<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracked | Tracking, Delivery & Decision Platform</title>
    <meta name="description" content="Tracked is the unified platform for performance marketing and product teams. Get cookieless tracking, user attribution, session replays, event tracking, powerful A/B testing, and a global content delivery & decision engine." />
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Inter"', 'sans-serif'],
                        mono: ['"JetBrains Mono"', 'monospace'],
                    },
                    colors: {
                        border: "var(--border)",
                        input: "var(--input)",
                        ring: "var(--ring)",
                        background: "var(--background)",
                        foreground: "var(--foreground)", 
                        primary: {
                            DEFAULT: "var(--primary)",
                            foreground: "var(--primary-foreground)",
                        },
                        secondary: {
                            DEFAULT: "var(--secondary)",
                            foreground: "var(--secondary-foreground)",
                        },
                        destructive: {
                            DEFAULT: "var(--destructive)",
                            foreground: "var(--destructive-foreground)",
                        },
                        muted: {
                            DEFAULT: "var(--muted)",
                            foreground: "var(--muted-foreground)",
                        },
                        accent: {
                            DEFAULT: "var(--accent)",
                            foreground: "var(--accent-foreground)",
                        },
                        popover: {
                            DEFAULT: "var(--popover)",
                            foreground: "var(--popover-foreground)",
                        },
                        card: {
                            DEFAULT: "var(--card)",
                            foreground: "var(--card-foreground)",
                        },
                        pastel: {
                            success: "var(--pastel-success)",
                            error: "var(--pastel-error)",
                            warning: "var(--pastel-warning)",
                            info: "var(--pastel-info)",
                            accent: "var(--pastel-accent)",
                            indigo: "var(--pastel-indigo)",
                            pink: "var(--pastel-pink)",
                            cyan: "var(--pastel-cyan)",
                            orange: "var(--pastel-orange)",
                            teal: "var(--pastel-teal)",
                            violet: "var(--pastel-violet)",
                        }
                    },
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                    animation: {
                        "accordion-down": "accordion-down 0.2s ease-out",
                        "accordion-up": "accordion-up 0.2s ease-out",
                        "scroll": "scroll 40s linear infinite",
                        "fade-in-up": "fadeInUp 0.8s ease-out forwards",
                        "slide-in-right": "slideInRight 0.8s ease-out forwards",
                        "slide-in-left": "slideInLeft 0.8s ease-out forwards",
                        "pulse-slow": "pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",
                        "float": "float 6s ease-in-out infinite",
                        "blob": "blob 7s infinite",
                    },
                    keyframes: {
                        "accordion-down": {
                            from: { height: 0, opacity: 0 },
                            to: { height: "var(--radix-accordion-content-height)", opacity: 1 },
                        },
                        "accordion-up": {
                            from: { height: "var(--radix-accordion-content-height)", opacity: 1 },
                            to: { height: 0, opacity: 0 },
                        },
                        scroll: {
                            to: { transform: "translate(calc(-50% - 1.5rem))" },
                        },
                        fadeInUp: {
                            "0%": { opacity: 0, transform: "translateY(20px)" },
                            "100%": { opacity: 1, transform: "translateY(0)" },
                        },
                        float: {
                            "0%, 100%": { transform: "translateY(0)" },
                            "50%": { transform: "translateY(-10px)" },
                        },
                        shimmer: {
                            "100%": { transform: "translateX(100%)" },
                        },
                        blob: {
                            "0%": { transform: "translate(0px, 0px) scale(1)" },
                            "33%": { transform: "translate(30px, -50px) scale(1.1)" },
                            "66%": { transform: "translate(-20px, 20px) scale(0.9)" },
                            "100%": { transform: "translate(0px, 0px) scale(1)" },
                        }
                    },
                },
            },
        }
    </script>
    <style>
        :root {
            --radius: 0.5rem;
            
            /* Light Mode - Monochrome & Clean */
            --background: #ffffff;
            --foreground: #09090b;
            --card: #ffffff;
            --card-foreground: #09090b;
            --popover: #ffffff;
            --popover-foreground: #09090b;
            --primary: #18181b;
            --primary-foreground: #fafafa;
            --secondary: #f4f4f5;
            --secondary-foreground: #18181b;
            --muted: #f4f4f5;
            --muted-foreground: #71717a;
            --accent: #f4f4f5;
            --accent-foreground: #18181b;
            --destructive: #ef4444;
            --destructive-foreground: #fafafa;
            --border: #e4e4e7;
            --input: #e4e4e7;
            --ring: #18181b;
            
            /* Pastels - Functional */
            --pastel-success: #dcfce7;
            --pastel-error: #fee2e2;
            --pastel-warning: #fef3c7;
            --pastel-info: #dbeafe;
            --pastel-accent: #f3e8ff;
            --pastel-indigo: #e0e7ff;
            --pastel-pink: #fce7f3;
            --pastel-cyan: #ecfeff;
            --pastel-orange: #ffedd5;
            --pastel-teal: #f0fdfa;
            --pastel-violet: #ede9fe;
        }

        .dark {
            /* Dark Mode - Deep OLED Grays */
            --background: #09090b;
            --foreground: #fafafa;
            --card: #09090b;
            --card-foreground: #fafafa;
            --popover: #09090b;
            --popover-foreground: #fafafa;
            --primary: #fafafa;
            --primary-foreground: #18181b;
            --secondary: #27272a;
            --secondary-foreground: #fafafa;
            --muted: #27272a;
            --muted-foreground: #a1a1aa;
            --accent: #27272a;
            --accent-foreground: #fafafa;
            --destructive: #7f1d1d;
            --destructive-foreground: #fafafa;
            --border: #27272a;
            --input: #27272a;
            --ring: #d4d4d8;
            
            /* Pastels - Dark Mode (Muted) */
            --pastel-success: #052e16;
            --pastel-error: #450a0a;
            --pastel-warning: #451a03;
            --pastel-info: #172554;
            --pastel-accent: #3b0764;
            --pastel-indigo: #1e1b4b;
            --pastel-pink: #500724;
            --pastel-cyan: #083344;
            --pastel-orange: #431407;
            --pastel-teal: #042f2e;
            --pastel-violet: #2e1065;
        }
        
        body {
            font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .font-mono-terminal {
            font-family: 'JetBrains Mono', monospace;
            font-variant-numeric: tabular-nums;
            letter-spacing: -0.02em;
        }
        
        /* Grid Background Pattern */
        .bg-grid {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, var(--border) 1px, transparent 1px),
                              linear-gradient(to bottom, var(--border) 1px, transparent 1px);
            mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
            -webkit-mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
        }

        .terminal-card {
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background-color: var(--card);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        .terminal-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px -10px rgba(0,0,0,0.05);
            border-color: var(--primary);
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Animation Utility Classes */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s cubic-bezier(0.2, 0.8, 0.2, 1), transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .animate-shimmer {
            animation: shimmer 2s infinite;
        }
        
        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .dark .glass {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .accentStripe {
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--pastel-indigo), var(--pastel-pink), var(--pastel-cyan));
            border-radius: 2px;
            margin: 0 auto;
        }
    </style>
    <!-- Prism.js for Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <style>
        /* Editor Overlays */
        #editor-container {
            position: relative;
            width: 100%;
            height: 100%;
        }
        #macro-input, #editor-highlight {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 1rem;
            margin: 0;
            border: none;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            line-height: 1.625;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow: auto;
        }
        #macro-input {
            z-index: 1;
            color: transparent;
            background: transparent;
            caret-color: white;
            resize: none;
        }
        #editor-highlight {
            z-index: 0;
            pointer-events: none;
            background: #1e1e1e;
        }
        #editor-highlight code {
            font-family: inherit;
            background: transparent !important;
            padding: 0 !important;
        }
        /* Custom Prism Colors to match theme */
        .token.tag, .token.attr-name, .token.namespace, .token.deleted { color: #569cd6; }
        .token.string, .token.attr-value { color: #ce9178; }
        .token.punctuation { color: #808080; }
        .token.operator { color: #d4d4d4; }
        .token.keyword { color: #569cd6; }
        .token.comment { color: #6a9955; }
        /* Macro Highlighting */
        .token.macro {
            color: #4fc1ff;
            font-weight: bold;
            text-decoration: underline;
        }
    </style>
</head>
<body class="bg-background text-foreground min-h-screen flex flex-col transition-colors duration-300">

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 border-b border-border/80 bg-background/80 backdrop-blur-md">
        <div class="container mx-auto px-4 h-16 flex items-center justify-between">
            <a href="/" class="flex items-center gap-3 group">
                <div class="w-8 h-8 bg-primary text-primary-foreground rounded-md flex items-center justify-center font-bold font-mono-terminal text-lg">
                    T
                </div>
                <span class="font-bold text-lg tracking-tight">Tracked</span>
            </a>
            
            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-muted-foreground">
                <a href="#solutions" class="hover:text-foreground transition-colors">Solutions</a>
                <a href="#features" class="hover:text-foreground transition-colors">Platform</a>
                <a href="#pricing" class="hover:text-foreground transition-colors">Pricing</a>
                <a href="#faq" class="hover:text-foreground transition-colors">FAQ</a>
            </div>
            
            <div class="flex items-center gap-4">
                <button id="theme-toggle" class="p-2 text-muted-foreground hover:text-foreground transition-colors rounded-md hover:bg-secondary">
                    <!-- Sun Icon -->
                    <svg class="w-5 h-5 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                    <!-- Moon Icon -->
                    <svg class="w-5 h-5 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
                <a href="/login" class="hidden md:inline-flex text-sm font-medium text-muted-foreground hover:text-foreground transition-colors">Sign In</a>
                <a href="/signup" class="hidden md:inline-flex h-9 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow-sm transition-all hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring">
                    Get Started
                </a>
                
                <button id="mobile-menu-btn" class="md:hidden p-2 text-muted-foreground hover:text-foreground">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu" class="fixed inset-0 top-16 bg-background z-40 transform translate-x-full transition-transform duration-300 md:hidden flex flex-col p-6 overflow-y-auto border-t border-border">
            <div class="flex flex-col gap-6 text-lg font-medium">
                <a href="#solutions" class="mobile-link py-2 border-b border-border/50">Solutions</a>
                <a href="#features" class="mobile-link py-2 border-b border-border/50">Platform</a>
                <a href="#pricing" class="mobile-link py-2 border-b border-border/50">Pricing</a>
                <a href="#faq" class="mobile-link py-2 border-b border-border/50">FAQ</a>
            </div>
            <div class="mt-8 flex flex-col gap-4">
                <a href="/login" class="w-full py-3 text-center rounded-md border border-border bg-card">Sign In</a>
                <a href="/signup" class="w-full py-3 text-center rounded-md bg-primary text-primary-foreground">Get Started</a>
            </div>
        </div>
    </nav>

    <main class="flex-1 pt-16">
        
        <!-- Hero Area -->
        <section class="relative py-20 md:py-32 overflow-hidden">
            <!-- Grid Background -->
            <div class="absolute inset-0 bg-grid opacity-[0.03] dark:opacity-[0.05] pointer-events-none"></div>
            
            <!-- Background Decorative Blobs -->
            <div class="absolute top-0 -left-4 w-72 h-72 bg-pastel-indigo/30 dark:bg-pastel-indigo/10 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-3xl opacity-70 animate-blob"></div>
            <div class="absolute top-0 -right-4 w-72 h-72 bg-pastel-pink/30 dark:bg-pastel-pink/10 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-3xl opacity-70 animate-blob" style="animation-delay: 2s;"></div>
            <div class="absolute -bottom-8 left-20 w-72 h-72 bg-pastel-cyan/30 dark:bg-pastel-cyan/10 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-3xl opacity-70 animate-blob" style="animation-delay: 4s;"></div>
            
            <div class="container mx-auto px-4 text-center relative z-10">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-medium tracking-tight mb-6 text-foreground animate-fade-in-up" style="animation-delay: 0.2s;">
                    The platform for <strong class="font-bold text-primary">tracking</strong>, <br /><strong class="font-bold text-primary">delivery</strong>, and <strong class="font-bold text-primary">decisions</strong>
                </h1>
                
                <p class="text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10 text-balance animate-fade-in-up leading-relaxed" style="animation-delay: 0.3s;">
                    Get a complete view of your users with cookieless tracking, session replays, and event attribution.
                    Deliver targeted content at scale or use our decision engine to power your own apps.
                </p>
                
                <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-20 animate-fade-in-up" style="animation-delay: 0.4s;">
                    <a href="/signup" class="h-12 px-8 rounded-md bg-primary text-primary-foreground font-medium flex items-center justify-center hover:bg-primary/90 transition-all w-full sm:w-auto shadow-sm hover:scale-105">
                        Create a free account
                    </a>
                    <a href="#features" class="h-12 px-8 rounded-md border border-border bg-background hover:bg-secondary text-foreground font-medium flex items-center justify-center transition-all w-full sm:w-auto">
                        See how it works
                    </a>
                </div>
                
                <!-- High Fidelity Dashboard Mockup -->
                <div class="relative max-w-6xl mx-auto rounded-xl border border-border bg-card/80 backdrop-blur-xl shadow-2xl overflow-hidden animate-fade-in-up ring-1 ring-white/10" style="animation-delay: 0.5s;">
                    <!-- Window Controls -->
                    <div class="h-10 border-b border-border bg-muted/50 flex items-center px-4 justify-between select-none">
                        <div class="flex gap-2">
                            <div class="w-3 h-3 rounded-full bg-[#ff5f56] border border-[#e0443e]"></div>
                            <div class="w-3 h-3 rounded-full bg-[#ffbd2e] border border-[#dea123]"></div>
                            <div class="w-3 h-3 rounded-full bg-[#27c93f] border border-[#1aab29]"></div>
                        </div>
                        <div class="flex items-center gap-2 px-3 py-1 rounded-md bg-background border border-border/50 text-[10px] font-mono-terminal text-muted-foreground opacity-60 hover:opacity-100 transition-opacity">
                             <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
                             tracked.app/dashboard
                        </div>
                        <div class="w-12"></div>
                    </div>

                    <div class="p-6 bg-background text-left">
                        <!-- KPI Grid Mockup -->
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                            <!-- KPI 1 -->
                            <div class="p-4 rounded-lg border border-border bg-card hover:border-primary/20 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-2 text-muted-foreground text-sm font-medium">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                        Revenue
                                    </div>
                                    <span class="text-[10px] text-muted-foreground cursor-pointer hover:text-foreground">Ã—</span>
                                </div>
                                <div class="flex items-end justify-between">
                                    <div>
                                        <div class="text-2xl font-bold font-mono-terminal tracking-tight">$42,850</div>
                                        <div class="text-xs text-muted-foreground mt-1">Total revenue</div>
                                    </div>
                                    <div class="flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-pastel-success/50 text-green-700">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
                                        +12.5%
                                    </div>
                                </div>
                            </div>
                             <!-- KPI 2 -->
                            <div class="p-4 rounded-lg border border-border bg-card hover:border-primary/20 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-2 text-muted-foreground text-sm font-medium">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>
                                        ROAS
                                    </div>
                                </div>
                                <div class="flex items-end justify-between">
                                    <div>
                                        <div class="text-2xl font-bold font-mono-terminal tracking-tight text-green-600">3.42</div>
                                        <div class="text-xs text-muted-foreground mt-1">Return on spend</div>
                                    </div>
                                    <div class="flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-pastel-success/50 text-green-700">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
                                        +5.2%
                                    </div>
                                </div>
                            </div>
                             <!-- KPI 3 -->
                            <div class="p-4 rounded-lg border border-border bg-card hover:border-primary/20 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-2 text-muted-foreground text-sm font-medium">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>
                                        Visitors
                                    </div>
                                </div>
                                <div class="flex items-end justify-between">
                                    <div>
                                        <div class="text-2xl font-bold font-mono-terminal tracking-tight">12,450</div>
                                        <div class="text-xs text-muted-foreground mt-1">Unique clicks</div>
                                    </div>
                                    <div class="flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-pastel-warning/50 text-yellow-700">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14" /></svg>
                                        0.0%
                                    </div>
                                </div>
                            </div>
                             <!-- KPI 4 -->
                            <div class="p-4 rounded-lg border border-border bg-card hover:border-primary/20 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-2 text-muted-foreground text-sm font-medium">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                                        Conv. Rate
                                    </div>
                                </div>
                                <div class="flex items-end justify-between">
                                    <div>
                                        <div class="text-2xl font-bold font-mono-terminal tracking-tight">2.8%</div>
                                        <div class="text-xs text-muted-foreground mt-1">Visitor to sale</div>
                                    </div>
                                    <div class="flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-pastel-error/50 text-red-700">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6" /></svg>
                                        -1.2%
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Data Table Mockup -->
                        <div class="border border-border rounded-lg bg-card overflow-hidden">
                            <!-- Toolbar -->
                            <div class="p-3 border-b border-border flex flex-col md:flex-row gap-3 items-center justify-between bg-muted/10">
                                <div class="flex items-center gap-3 w-full md:w-auto">
                                    <div class="relative">
                                        <svg class="absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                                        <input type="text" placeholder="Search campaigns..." class="pl-9 pr-4 py-1.5 text-sm bg-background border border-border rounded-md w-full md:w-64 focus:outline-none focus:ring-1 focus:ring-primary/50" />
                                    </div>
                                    <div class="hidden md:flex items-center gap-1">
                                        <div class="px-2 py-1 bg-secondary rounded text-xs border border-border flex items-center gap-1 font-medium text-foreground cursor-pointer hover:bg-muted">
                                            Campaign
                                            <svg class="w-3 h-3 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                                        </div>
                                        <div class="px-2 py-1 bg-background rounded text-xs border border-border flex items-center gap-1 font-medium text-muted-foreground cursor-pointer hover:bg-muted">
                                            Last 7 Days
                                            <svg class="w-3 h-3 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2">
                                    <button class="px-3 py-1.5 text-xs font-medium border border-border rounded hover:bg-muted flex items-center gap-2 transition-colors">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                                        Customize
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Table Scroll Container -->
                            <div class="overflow-x-auto">
                                <div class="min-w-[800px]">
                                    <!-- Header -->
                                    <div class="grid grid-cols-12 bg-muted/50 border-b border-border text-xs font-medium text-muted-foreground select-none">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-1 cursor-pointer hover:text-foreground">
                                            Campaign Name
                                            <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 text-center">Status</div>
                                        <div class="col-span-2 px-4 py-2 text-right cursor-pointer hover:text-foreground">Spend</div>
                                        <div class="col-span-2 px-4 py-2 text-right cursor-pointer hover:text-foreground">Revenue</div>
                                        <div class="col-span-1 px-4 py-2 text-right cursor-pointer hover:text-foreground">ROAS</div>
                                        <div class="col-span-1 px-4 py-2 text-right cursor-pointer hover:text-foreground">Conv.</div>
                                        <div class="col-span-1 px-4 py-2 text-right cursor-pointer hover:text-foreground">CTR</div>
                                    </div>

                                    <!-- Row 1: Parent Campaign -->
                                    <div class="grid grid-cols-12 border-b border-border text-sm hover:bg-accent/30 transition-colors group cursor-pointer items-center h-10">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-2 truncate">
                                            <button class="p-0.5 rounded hover:bg-muted text-muted-foreground transition-transform hover:scale-110"><svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></button>
                                            <span class="font-medium text-blue-600 flex items-center gap-2"><svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.04c-5.5 0-10 4.49-10 10.02c0 5 3.66 9.15 8.44 9.9v-7H7.9v-2.9h2.54V9.85c0-2.51 1.49-3.89 3.78-3.89c1.09 0 2.23.19 2.23.19v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.45 2.9h-2.33v7a10 10 0 0 0 8.44-9.9c0-5.53-4.5-10.02-10-10.02Z"/></svg> Cold_Traffic_USA_Scale</span>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 flex justify-center">
                                            <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                                        </div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal text-muted-foreground">$12,450.00</div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal font-medium">$42,850.00</div>
                                        <div class="col-span-1 px-4 py-2 text-right font-medium text-green-600">3.44</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">342</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">1.2%</div>
                                    </div>
                                    
                                    <!-- Row 2: Parent Campaign (Expanded) -->
                                    <div class="grid grid-cols-12 border-b border-border text-sm bg-accent/5 hover:bg-accent/10 transition-colors group cursor-pointer items-center h-10 border-l-4 border-l-primary">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-2 truncate">
                                            <button class="p-0.5 rounded hover:bg-muted text-foreground transition-transform rotate-90"><svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg></button>
                                            <span class="font-medium text-foreground flex items-center gap-2"><svg class="w-3 h-3 text-red-500" viewBox="0 0 24 24" fill="currentColor"><path d="M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.761H12.545z"/></svg> YouTube_Retargeting</span>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 flex justify-center">
                                            <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                                        </div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal text-muted-foreground">$2,100.00</div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal font-medium">$8,450.00</div>
                                        <div class="col-span-1 px-4 py-2 text-right font-medium text-green-600">4.02</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">85</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">2.4%</div>
                                    </div>

                                     <!-- Row 3: Child Ad Set (Nested) -->
                                    <div class="grid grid-cols-12 border-b border-border text-sm bg-accent/10 hover:bg-accent/20 transition-colors group cursor-pointer items-center h-10 border-l-4 border-l-transparent">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-2 truncate pl-12">
                                            <svg class="w-3 h-3 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" /></svg>
                                            <span class="text-sm font-medium">Ad Set: VSL_Variant_A</span>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 flex justify-center">
                                            <div class="w-1.5 h-1.5 rounded-full bg-emerald-500"></div>
                                        </div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal text-muted-foreground">$1,200.00</div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal font-medium">$5,100.00</div>
                                        <div class="col-span-1 px-4 py-2 text-right font-medium text-green-600">4.25</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">52</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">2.8%</div>
                                    </div>
                                    
                                    <!-- Row 4: Child Ad Set (Nested) -->
                                    <div class="grid grid-cols-12 border-b border-border text-sm bg-accent/10 hover:bg-accent/20 transition-colors group cursor-pointer items-center h-10 border-l-4 border-l-transparent">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-2 truncate pl-12">
                                            <svg class="w-3 h-3 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" /></svg>
                                            <span class="text-sm font-medium">Ad Set: VSL_Variant_B</span>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 flex justify-center">
                                            <div class="w-1.5 h-1.5 rounded-full bg-yellow-500"></div>
                                        </div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal text-muted-foreground">$900.00</div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal font-medium">$3,350.00</div>
                                        <div class="col-span-1 px-4 py-2 text-right font-medium text-yellow-600">3.72</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">33</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">1.9%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Partners Section -->
        <section class="py-12 border-y border-border bg-secondary/30">
            <div class="container mx-auto px-4">
                <p class="text-xs font-mono-terminal text-center text-muted-foreground mb-8 uppercase tracking-widest">Compatible with your favorite platforms</p>
                <div class="relative w-full overflow-hidden mask-fade-sides group">
                    <div class="flex animate-scroll w-max gap-12 items-center">
                        <!-- Logos -->
                        <img src="outbrain.png" alt="Outbrain" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="tab.png" alt="Taboola" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="meta.png" alt="Meta" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="google.png" alt="Google" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="micosoft.png" alt="Microsoft" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="tiktok.png" alt="TikTok" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="cloudflare.png" alt="Cloudflare" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="aws.png" alt="AWS" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="vercel.png" alt="Vercel" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <!-- Duplicates -->
                        <img src="outbrain.png" alt="Outbrain" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="tab.png" alt="Taboola" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                        <img src="meta.png" alt="Meta" class="h-6 md:h-8 opacity-40 grayscale hover:opacity-100 transition-all duration-300" />
                    </div>
                </div>
            </div>
        </section>

        <!-- Use Cases / Solutions -->
        <section id="solutions" class="py-24 bg-muted/20">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16 reveal-on-scroll">
                    <span class="text-xs font-mono-terminal text-primary mb-2 block">How it works</span>
                    <h2 class="text-3xl md:text-4xl font-bold mb-4">Launch in minutes</h2>
                    <div class="accentStripe"></div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <!-- Step 1 -->
                    <div class="terminal-card p-6 reveal-on-scroll hover:border-primary/50 transition-all hover:-translate-y-1">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold">1</span>
                            <h4 class="text-lg font-bold">Add Domain</h4>
                        </div>
                        <p class="text-muted-foreground text-sm">Point your DNS to Tracked or use our instant subdomains.</p>
                    </div>

                    <!-- Step 2 -->
                    <div class="terminal-card p-6 reveal-on-scroll hover:border-primary/50 transition-all hover:-translate-y-1" style="transition-delay: 100ms;">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold">2</span>
                            <h4 class="text-lg font-bold">Create Campaign</h4>
                        </div>
                        <p class="text-muted-foreground text-sm">Set up your campaign structure and default routing behavior.</p>
                    </div>

                    <!-- Step 3 -->
                    <div class="terminal-card p-6 reveal-on-scroll hover:border-primary/50 transition-all hover:-translate-y-1" style="transition-delay: 200ms;">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold">3</span>
                            <h4 class="text-lg font-bold">Set Rules</h4>
                        </div>
                        <p class="text-muted-foreground text-sm">Configure sophisticated targeting rules and destination splits.</p>
                    </div>

                    <!-- Step 4 -->
                    <div class="terminal-card p-6 reveal-on-scroll hover:border-primary/50 transition-all hover:-translate-y-1" style="transition-delay: 300ms;">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold">4</span>
                            <h4 class="text-lg font-bold">Profit & Optimize</h4>
                        </div>
                        <p class="text-muted-foreground text-sm">Analyze real-time data, drill down, and scale your winners.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Unified Story Demo Section -->
        <section id="demo" class="py-24 relative overflow-hidden">
            <div class="container mx-auto px-4 relative z-10">
                <div class="text-center mb-20 reveal-on-scroll">
                    <span class="text-xs font-mono-terminal text-primary mb-2 block">See it in action</span>
                    <h2 class="text-3xl md:text-5xl font-bold mb-6">One platform, complete control</h2>
                    <div class="accentStripe mb-10"></div>
                    <p class="text-lg text-muted-foreground max-w-2xl mx-auto">From asset hosting to intelligent routing and real-time analytics, everything works together seamlessly.</p>
                </div>

                <div class="space-y-32">
                    <!-- Part A: Asset Drive -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                        <div class="order-2 lg:order-1 reveal-on-scroll">
                            <div class="terminal-card overflow-hidden shadow-xl border-primary/20 bg-card/50 backdrop-blur-sm">
                                <div class="bg-muted/30 border-b border-border p-3 flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <div class="flex gap-1.5">
                                            <div class="w-2.5 h-2.5 rounded-full bg-red-400/80"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-amber-400/80"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-green-400/80"></div>
                                        </div>
                                    </div>
                                    <div class="text-[10px] font-mono-terminal text-muted-foreground">Assets / Campaign-01</div>
                                </div>
                                <div class="p-4 bg-muted/5 min-h-[300px]">
                                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                                        <!-- File Item -->
                                        <div class="group relative aspect-square rounded-lg border border-border bg-background p-3 flex flex-col items-center justify-center gap-3 hover:border-primary/50 transition-colors cursor-pointer">
                                            <div class="w-10 h-10 rounded bg-pastel-info/50 text-blue-600 dark:text-blue-400 flex items-center justify-center">
                                                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                            </div>
                                            <span class="text-xs font-medium truncate w-full text-center">lander-v1.html</span>
                                            <div class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                                <div class="w-1.5 h-1.5 rounded-full bg-emerald-500"></div>
                                            </div>
                                        </div>
                                        <!-- File Item -->
                                        <div class="group relative aspect-square rounded-lg border border-border bg-background p-3 flex flex-col items-center justify-center gap-3 hover:border-primary/50 transition-colors cursor-pointer">
                                            <div class="w-10 h-10 rounded bg-pastel-warning/50 text-amber-600 dark:text-amber-400 flex items-center justify-center">
                                                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>
                                            </div>
                                            <span class="text-xs font-medium truncate w-full text-center">style.css</span>
                                        </div>
                                        <!-- File Item -->
                                        <div class="group relative aspect-square rounded-lg border border-border bg-background p-3 flex flex-col items-center justify-center gap-3 hover:border-primary/50 transition-colors cursor-pointer">
                                            <div class="w-10 h-10 rounded bg-pastel-accent/50 text-purple-600 dark:text-purple-400 flex items-center justify-center">
                                                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                            </div>
                                            <span class="text-xs font-medium truncate w-full text-center">video_vsl.mp4</span>
                                        </div>
                                        <!-- Upload Placeholder -->
                                        <div class="aspect-square rounded-lg border-2 border-dashed border-border flex flex-col items-center justify-center gap-2 hover:border-primary/50 hover:bg-muted/50 transition-all cursor-pointer">
                                            <svg class="w-6 h-6 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                                            <span class="text-xs text-muted-foreground font-medium">Upload</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="order-1 lg:order-2 reveal-on-scroll">
                            <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                STEP 1
                            </div>
                            <h3 class="text-3xl font-bold mb-4">Upload once, deploy everywhere</h3>
                            <p class="text-muted-foreground text-lg mb-6">
                                Forget complex FTP setups. Drag and drop your landing pages, scripts, and assets directly into our global edge network.
                            </p>
                            <ul class="space-y-3">
                                <li class="flex items-center gap-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    <span>Instant global CDN propagation</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    <span>Automatic SSL certificates</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    <span>Built-in macro injection ({{city}}, {{device}})</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Part B: Rules Engine -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                         <div class="reveal-on-scroll">
                            <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                STEP 2
                            </div>
                            <h3 class="text-3xl font-bold mb-4">Route traffic with surgical precision</h3>
                            <p class="text-muted-foreground text-lg mb-6">
                                Create sophisticated flow logic without writing code. Redirect, proxy, or split-test based on 50+ data points.
                            </p>
                            <ul class="space-y-3">
                                <li class="flex items-center gap-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    <span>Device & GEO targeting</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    <span>Weighted split testing</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    <span>ISP & Connection type filtering</span>
                                </li>
                            </ul>
                        </div>
                        <div class="reveal-on-scroll relative">
                            <!-- RuleFlowCard Mockup -->
                            <div class="space-y-4 font-sans text-sm">
                                
                                <!-- Rule 1 Card -->
                                <div class="terminal-card border-l-4 border-l-primary p-0 overflow-hidden shadow-lg">
                                    <div class="bg-muted/30 p-3 border-b border-border flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <span class="inline-flex items-center rounded-full border border-transparent bg-primary/10 px-2 py-0.5 text-xs font-semibold text-primary">
                                                Rule 1
                                            </span>
                                            <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                        </div>
                                        <div class="text-muted-foreground hover:text-destructive cursor-pointer">
                                            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 space-y-4">
                                        <!-- IF Block -->
                                        <div class="flex items-start gap-3">
                                            <span class="inline-flex items-center rounded px-2 py-1 text-xs font-bold bg-violet-100 text-violet-700 dark:bg-violet-900/50 dark:text-violet-300 uppercase tracking-wider mt-0.5">IF</span>
                                            <div class="flex-1 space-y-2">
                                                <div class="flex flex-wrap gap-2">
                                                    <div class="inline-flex items-center gap-1.5 rounded border border-border bg-background px-2 py-1 text-xs text-foreground">
                                                        <span class="font-medium text-muted-foreground">Device Type</span>
                                                        <span class="font-bold text-primary">=</span>
                                                        <span>Mobile</span>
                                                    </div>
                                                    <span class="text-xs font-bold text-muted-foreground self-center">AND</span>
                                                    <div class="inline-flex items-center gap-1.5 rounded border border-border bg-background px-2 py-1 text-xs text-foreground">
                                                        <span class="font-medium text-muted-foreground">OS</span>
                                                        <span class="font-bold text-primary">=</span>
                                                        <span>iOS</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- THEN Block -->
                                        <div class="flex items-start gap-3">
                                            <span class="inline-flex items-center rounded px-2 py-1 text-xs font-bold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300 uppercase tracking-wider mt-0.5">THEN</span>
                                            <div class="flex-1">
                                                <div class="rounded border border-border bg-background p-3 hover:border-primary/50 transition-colors">
                                                    <div class="flex items-center gap-3">
                                                        <div class="w-8 h-8 rounded bg-blue-500/10 flex items-center justify-center text-blue-500">
                                                            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
                                                        </div>
                                    <div>
                                                            <div class="font-medium text-sm">App Store Redirect</div>
                                                            <div class="text-[10px] text-muted-foreground truncate max-w-[200px]">https://apps.apple.com/app/id123456</div>
                                    </div>
                                                        <span class="ml-auto text-xs font-mono-terminal bg-muted px-2 py-1 rounded">REDIRECT</span>
                                                    </div>
                                                </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                                <!-- Rule 2 Card -->
                                <div class="terminal-card border-l-4 border-l-muted p-0 overflow-hidden shadow-lg opacity-90">
                                     <div class="bg-muted/30 p-3 border-b border-border flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <span class="inline-flex items-center rounded-full border border-transparent bg-secondary px-2 py-0.5 text-xs font-semibold text-foreground">
                                                Rule 2
                                            </span>
                                            <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                </div>
                                </div>
                                    
                                    <div class="p-4 space-y-4">
                                        <!-- ELSE IF Block -->
                                        <div class="flex items-start gap-3">
                                            <span class="inline-flex items-center rounded px-2 py-1 text-xs font-bold bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300 uppercase tracking-wider mt-0.5 whitespace-nowrap">ELSE IF</span>
                                            <div class="flex-1 space-y-2">
                                                <div class="flex flex-wrap gap-2">
                                                    <div class="inline-flex items-center gap-1.5 rounded border border-border bg-background px-2 py-1 text-xs text-foreground">
                                                        <span class="font-medium text-muted-foreground">Country</span>
                                                        <span class="font-bold text-primary">IN</span>
                                                        <span>ðŸ‡ºðŸ‡¸ ðŸ‡¨ðŸ‡¦ ðŸ‡¬ðŸ‡§</span>
                                </div>
                            </div>
                        </div>
                    </div>

                                        <!-- THEN Block (Split) -->
                                        <div class="flex items-start gap-3">
                                            <span class="inline-flex items-center rounded px-2 py-1 text-xs font-bold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300 uppercase tracking-wider mt-0.5">THEN</span>
                                            <div class="flex-1 space-y-3">
                                                <!-- Split Test Visual -->
                                                <div class="h-2 w-full rounded-full bg-muted overflow-hidden flex">
                                                    <div class="h-full bg-primary w-1/2"></div>
                                                    <div class="h-full bg-muted-foreground/30 w-1/2"></div>
                                                </div>
                                                
                                                <div class="grid grid-cols-2 gap-3">
                                                    <div class="rounded border border-primary bg-primary/5 p-2">
                                                        <div class="text-[10px] text-muted-foreground font-mono-terminal mb-1">50% â€¢ VSL Page A</div>
                                                        <div class="font-medium text-xs">Main Lander</div>
                                                    </div>
                                                    <div class="rounded border border-border bg-background p-2">
                                                        <div class="text-[10px] text-muted-foreground font-mono-terminal mb-1">50% â€¢ VSL Page B</div>
                                                        <div class="font-medium text-xs">Variant Blue</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Part C: Macro Playground (Interactive) -->
                    <div class="reveal-on-scroll group">
                         <div class="mb-8 text-center md:text-left">
                            <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                STEP 3
                            </div>
                            <h3 class="text-3xl font-bold mb-4">Dynamic Content & Macros</h3>
                            <p class="text-muted-foreground text-lg mb-6 leading-relaxed">
                                Personalize landing pages instantly. Type in the editor below to see macros replace in real-time.
                            </p>
                        </div>

                        <!-- Interactive Playground -->
                        <div class="terminal-card bg-card shadow-xl overflow-hidden border-border group-hover:border-primary/50 transition-colors flex flex-col md:flex-row min-h-[400px]">
                            <!-- Input Side -->
                            <div class="flex-1 border-b md:border-b-0 md:border-r border-border bg-[#1e1e1e] flex flex-col">
                                <div class="bg-[#252526] border-b border-[#333] px-4 py-2 flex items-center justify-between shrink-0">
                                    <span class="text-xs font-mono-terminal text-gray-400">template.html</span>
                                    <span class="text-[10px] text-gray-500 font-mono-terminal">Editable</span>
                                </div>
                                <div class="flex-1 relative" id="editor-container">
                                    <pre id="editor-highlight" aria-hidden="true"><code class="language-markup" id="highlight-content"></code></pre>
                                    <textarea id="macro-input" class="focus:outline-none focus:ring-1 focus:ring-primary/50 border-none" spellcheck="false"></textarea>
                                </div>
                                <div class="p-3 border-t border-[#333] bg-[#252526] shrink-0">
                                    <div class="text-[10px] uppercase text-gray-500 font-bold mb-2 font-mono-terminal">Try typing these:</div>
                                    <div id="macro-buttons" class="flex flex-wrap gap-1.5">
                                        <!-- Buttons generated via JS to avoid server-side macro replacement -->
                                    </div>
                                </div>
                            </div>

                            <!-- Output Side -->
                            <div class="flex-1 bg-background flex flex-col relative group/preview">
                                <div class="absolute top-2 right-2 px-2 py-0.5 bg-green-500/10 text-green-600 text-[10px] rounded font-bold uppercase tracking-wide border border-green-500/20 flex items-center gap-1 z-10">
                                    <span class="relative flex h-1.5 w-1.5">
                                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                                      <span class="relative inline-flex rounded-full h-1.5 w-1.5 bg-green-500"></span>
                                    </span>
                                    Live Preview
                                </div>
                                <div class="bg-muted/30 border-b border-border px-4 py-2 flex items-center justify-between shrink-0">
                                    <span id="visitor-context" class="text-xs font-mono-terminal text-muted-foreground">Visitor Context: Loading...</span>
                                </div>
                                <div class="p-6 flex flex-col h-full relative overflow-hidden bg-background">
                                    <div class="absolute inset-0 bg-grid opacity-[0.05] pointer-events-none"></div>
                                    <div id="macro-preview" class="relative z-10 prose prose-sm dark:prose-invert max-w-none">
                                        <!-- Content injected via JS -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Part D: Analytics -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                        <div class="order-2 lg:order-1 reveal-on-scroll">
                            <div class="terminal-card overflow-hidden shadow-xl bg-card">
                                <div class="p-0 overflow-x-auto">
                                    <table class="w-full text-sm text-left">
                                        <thead class="text-xs text-muted-foreground uppercase bg-muted/50 border-b border-border">
                                            <tr>
                                                <th class="px-4 py-3 font-medium">Campaign</th>
                                                <th class="px-4 py-3 font-medium text-right">Visitors</th>
                                                <th class="px-4 py-3 font-medium text-right">Conv.</th>
                                                <th class="px-4 py-3 font-medium text-right">CR%</th>
                                                <th class="px-4 py-3 font-medium text-right">EPC</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-border">
                                            <!-- Parent Row -->
                                            <tr class="bg-primary/5 hover:bg-primary/10 transition-colors">
                                                <td class="px-4 py-3 font-medium flex items-center gap-2">
                                                    <svg class="w-4 h-4 text-muted-foreground transform rotate-90" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                                                    <span class="text-primary">US_Mobile_Scale</span>
                                                </td>
                                                <td class="px-4 py-3 text-right font-mono-terminal">12,450</td>
                                                <td class="px-4 py-3 text-right font-mono-terminal">842</td>
                                                <td class="px-4 py-3 text-right font-mono-terminal text-green-600 font-bold">6.7%</td>
                                                <td class="px-4 py-3 text-right font-mono-terminal">$3.42</td>
                                            </tr>
                                            <!-- Child Row 1 -->
                                            <tr class="bg-background hover:bg-muted/30 transition-colors">
                                                <td class="px-4 py-2 pl-10 text-xs text-muted-foreground flex items-center gap-2">
                                                    <div class="w-1.5 h-1.5 rounded-full bg-green-500"></div>
                                                    Lander V1 (Hosted)
                                                </td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">6,200</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">510</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs text-green-600">8.2%</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">$4.15</td>
                                            </tr>
                                            <!-- Child Row 2 -->
                                            <tr class="bg-background hover:bg-muted/30 transition-colors">
                                                <td class="px-4 py-2 pl-10 text-xs text-muted-foreground flex items-center gap-2">
                                                    <div class="w-1.5 h-1.5 rounded-full bg-yellow-500"></div>
                                                    Direct Link B
                                                </td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">6,250</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">332</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs text-yellow-600">5.3%</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">$2.68</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="order-1 lg:order-2 reveal-on-scroll">
                            <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                STEP 4
                            </div>
                            <h3 class="text-3xl font-bold mb-4">Watch your metrics in real-time</h3>
                            <p class="text-muted-foreground text-lg mb-6">
                                No more delayed reports. See exactly which creatives, landing pages, and offers are performing the moment a click happens.
                            </p>
                            <ul class="space-y-3">
                                <li class="flex items-center gap-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    <span>Drill-down reporting</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    <span>EPC & ROI tracking</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    <span>Server-side event attribution</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Step 5: Optimize & Scale -->
                    <div class="mt-32 max-w-6xl mx-auto">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
                            <!-- Text Side -->
                            <div class="reveal-on-scroll">
                                <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                    STEP 5
                                </div>
                                <h3 class="text-3xl font-bold mb-4">Optimize and Scale with AI</h3>
                                <p class="text-muted-foreground text-lg mb-6 leading-relaxed">
                                    Let AI agents work 24/7 to maximize your ROI. With complete access to your campaign data, they identify winning patterns, eliminate waste, and scale profitable campaigns automatically while you sleep.
                                </p>
                                <ul class="space-y-4">
                                    <li class="flex items-center gap-3">
                                        <div class="w-8 h-8 rounded bg-primary/10 flex items-center justify-center text-primary shrink-0">
                                            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.364-6.364l-.707-.707M6.364 18.364l-.707.707M18.364 18.364l-.707.707M12 5a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                                        </div>
                                        <div>
                                            <span class="font-semibold block">AI-Powered Performance Analysis</span>
                                            <span class="text-sm text-muted-foreground">Smart agents continuously analyze performance data to identify your highest-converting traffic sources and creatives.</span>
                                        </div>
                                    </li>
                                    <li class="flex items-center gap-3">
                                        <div class="w-8 h-8 rounded bg-primary/10 flex items-center justify-center text-primary shrink-0">
                                            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                                        </div>
                                        <div>
                                            <span class="font-semibold block">Smart Automation & Scaling</span>
                                            <span class="text-sm text-muted-foreground">Automatically scale winning campaigns, pause underperformers, and rotate landers based on real-time performance metrics.</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            
                            <!-- Visual Side -->
                            <div class="reveal-on-scroll">
                                <div class="terminal-card overflow-hidden shadow-xl bg-card border-primary/20">
                                    <div class="bg-muted/50 border-b border-border px-4 py-2 flex items-center justify-between">
                                        <div class="flex gap-1.5">
                                            <div class="w-2.5 h-2.5 rounded-full bg-red-500/50"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-yellow-500/50"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-green-500/50"></div>
                                        </div>
                                        <span class="text-[10px] font-mono-terminal text-muted-foreground uppercase tracking-widest">AI Agent: Optimizer-01</span>
                                    </div>
                                    <div class="p-5 font-mono-terminal text-xs space-y-3 leading-relaxed">
                                        <div class="text-blue-400"># Initializing AI Agent...</div>
                                        <div class="text-gray-400">[info] Loading campaign data for "US_Mobile_Scale"</div>
                                        <div class="text-gray-400">[info] Analyzing 12,450 events across 3 variants</div>
                                        <div class="text-green-400">[match] Detected winning pattern in Lander V1</div>
                                        <div class="text-gray-400">[action] Increasing weight for Lander V1: 40% -> 75%</div>
                                        <div class="text-yellow-400">[action] Pausing underperforming variant: Direct Link B</div>
                                        <div class="text-purple-400"># Scaling up budget by 15% based on ROI target...</div>
                                        <div class="flex items-center gap-2 pt-4 text-primary animate-pulse border-t border-border/50">
                                            <span class="w-2 h-2 rounded-full bg-primary"></span>
                                            Agent active... monitoring performance
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- NEW: Integration Methods Grid (Cleaned up) -->
                <div class="mt-32 max-w-5xl mx-auto border-t border-border pt-20">
                    <div class="text-center mb-12 reveal-on-scroll">
                        <h3 class="text-2xl font-bold mb-4">3 Ways to Integrate</h3>
                        <p class="text-muted-foreground">Flexible integration options for any tech stack.</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <!-- Method 1: Direct Redirect -->
                        <div class="terminal-card p-5 text-center reveal-on-scroll hover:border-primary/50 transition-colors">
                            <div class="w-10 h-10 rounded bg-pastel-warning/50 flex items-center justify-center text-amber-600 dark:text-amber-400 mx-auto mb-3">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                            </div>
                            <h4 class="font-bold text-sm mb-1">Direct Redirect</h4>
                            <p class="text-xs text-muted-foreground mb-3">Tracked link, instant redirect</p>
                            <div class="bg-muted p-2 rounded text-[10px] font-mono-terminal text-muted-foreground border border-border/50 break-all">
                                trkd.it/c/abc
                            </div>
                        </div>

                        <!-- Method 2: JS Pixel -->
                        <div class="terminal-card p-5 text-center reveal-on-scroll hover:border-primary/50 transition-colors" style="transition-delay: 100ms;">
                            <div class="w-10 h-10 rounded bg-pastel-info/50 flex items-center justify-center text-blue-600 dark:text-blue-400 mx-auto mb-3">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>
                            </div>
                            <h4 class="font-bold text-sm mb-1">JS Pixel</h4>
                            <p class="text-xs text-muted-foreground mb-3">Single line, full tracking</p>
                            <div class="bg-muted p-2 rounded text-[10px] font-mono-terminal text-muted-foreground border border-border/50 break-all">
                                &lt;script src="..."&gt;
                            </div>
                        </div>

                        <!-- Method 3: Hosted Mode -->
                        <div class="terminal-card p-5 text-center reveal-on-scroll hover:border-primary/50 transition-colors" style="transition-delay: 200ms;">
                            <div class="w-10 h-10 rounded bg-pastel-accent/50 flex items-center justify-center text-purple-600 dark:text-purple-400 mx-auto mb-3">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </div>
                            <h4 class="font-bold text-sm mb-1">Hosted (with us)</h4>
                            <p class="text-xs text-muted-foreground mb-3">Upload to Tracked Drive & point DNS</p>
                            <div class="bg-muted p-2 rounded text-[10px] font-mono-terminal text-muted-foreground border border-border/50 break-all">
                                CNAME â†’ dispatch.tracked.it
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <!-- Pricing -->
        <section id="pricing" class="py-24 bg-muted/20 border-t border-border">
            <div class="container mx-auto px-4">
                <div class="mb-16 text-center reveal-on-scroll">
                    <span class="text-xs font-mono-terminal text-primary mb-2 block">Pricing</span>
                    <h2 class="text-3xl font-bold mb-4">Simple, transparent pricing</h2>
                    <div class="accentStripe mb-10"></div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto items-start">
                    <!-- Starter -->
                    <div class="terminal-card p-8 hover:border-primary/50 transition-colors bg-card reveal-on-scroll">
                        <h3 class="text-lg font-medium text-muted-foreground mb-4">Starter</h3>
                        <div class="text-4xl font-bold mb-6 font-mono-terminal">$0</div>
                        <p class="text-sm text-muted-foreground mb-6">For individuals and small projects getting started.</p>
                        <a href="/signup" class="block w-full py-2.5 px-4 rounded border border-border text-center text-sm font-medium hover:bg-secondary transition-colors">Get Started</a>
                        <ul class="mt-8 space-y-3 text-sm text-muted-foreground font-mono-terminal">
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Cookieless tracking</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> API & SDKs</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Global edge delivery</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Community support</li>
                        </ul>
                    </div>

                    <!-- Business -->
                    <div class="terminal-card p-8 border-primary bg-secondary/10 relative shadow-sm reveal-on-scroll" style="transition-delay: 100ms;">
                        <div class="absolute top-0 right-0 bg-primary text-primary-foreground px-3 py-1 text-[10px] font-bold uppercase tracking-wide rounded-bl font-mono-terminal">Most popular</div>
                        <h3 class="text-lg font-medium text-primary mb-4">Business</h3>
                        <div class="text-4xl font-bold mb-6 font-mono-terminal">$49<span class="text-sm text-muted-foreground font-normal">/mo</span></div>
                        <p class="text-sm text-muted-foreground mb-6">For teams running experiments and personalizing content.</p>
                        <a href="/signup" class="block w-full py-2.5 px-4 rounded bg-primary text-primary-foreground text-center text-sm font-medium hover:bg-primary/90 transition-colors">Get Started</a>
                        <ul class="mt-8 space-y-3 text-sm font-mono-terminal">
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Everything in Starter</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Session replays</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Targeting & A/B testing</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Email support</li>
                        </ul>
                    </div>

                    <!-- Agency -->
                    <div class="terminal-card p-8 hover:border-primary/50 transition-colors bg-card reveal-on-scroll" style="transition-delay: 200ms;">
                        <h3 class="text-lg font-medium text-muted-foreground mb-4">Agency</h3>
                        <div class="text-4xl font-bold mb-6 font-mono-terminal">$199<span class="text-sm text-muted-foreground font-normal">/mo</span></div>
                        <p class="text-sm text-muted-foreground mb-6">For agencies managing multiple clients and campaigns.</p>
                        <a href="/signup" class="block w-full py-2.5 px-4 rounded border border-border text-center text-sm font-medium hover:bg-secondary transition-colors">Get Started</a>
                        <ul class="mt-8 space-y-3 text-sm text-muted-foreground font-mono-terminal">
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Everything in Business</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Advanced delivery</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Team features</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Priority support</li>
                        </ul>
                    </div>

                    <!-- Enterprise -->
                    <div class="terminal-card p-8 hover:border-primary/50 transition-colors bg-card reveal-on-scroll" style="transition-delay: 300ms;">
                        <h3 class="text-lg font-medium text-muted-foreground mb-4">Enterprise</h3>
                        <div class="text-4xl font-bold mb-6 font-mono-terminal">Custom</div>
                        <p class="text-sm text-muted-foreground mb-6">For large-scale applications with custom needs.</p>
                        <a href="/contact" class="block w-full py-2.5 px-4 rounded border border-border text-center text-sm font-medium hover:bg-secondary transition-colors">Contact Sales</a>
                        <ul class="mt-8 space-y-3 text-sm text-muted-foreground font-mono-terminal">
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Everything in Agency</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Dedicated SLA</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Custom terms</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> White-glove setup</li>
                        </ul>
                    </div>
                </div>
                <div class="mt-8 text-center text-sm text-muted-foreground">
                    Need high volume or custom requirements? <a href="/contact" class="text-primary hover:underline">Contact sales</a>.
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="py-24 border-t border-border">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16 reveal-on-scroll">
                    <h2 class="text-3xl font-bold mb-4">Backed by proven infrastructure</h2>
                    <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
                        Whether you're using our content delivery platform or decision engine API, 
                        Tracked services are built for massive scale with industry-leading reliability and performance
                    </p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 reveal-on-scroll">
                    <div class="text-center">
                        <h3 class="text-4xl font-bold mb-2">300+</h3>
                        <p class="text-muted-foreground">Global edge locations</p>
                    </div>
                    <div class="text-center">
                        <h3 class="text-4xl font-bold mb-2">99.99%</h3>
                        <p class="text-muted-foreground">Uptime SLA guarantee</p>
                    </div>
                    <div class="text-center">
                        <h3 class="text-4xl font-bold mb-2">&lt;50ms</h3>
                        <p class="text-muted-foreground">Average response time</p>
                    </div>
                    <div class="text-center">
                        <h3 class="text-4xl font-bold mb-2">1B+</h3>
                        <p class="text-muted-foreground">Requests served daily</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="py-24 border-t border-border bg-muted/20">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16 reveal-on-scroll">
                    <h2 class="text-3xl font-bold mb-4">Loved by performance marketers worldwide</h2>
                    <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
                        See what our users have to say about building with Tracked
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="terminal-card p-6 bg-card reveal-on-scroll">
                        <p class="text-sm text-muted-foreground mb-4 font-mono-terminal">"Tracked has revolutionized our campaign delivery. We've seen a 40% increase in conversions since switching. The targeting capabilities are incredible."</p>
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-blue-500"></div>
                            <div>
                                <div class="font-semibold text-sm">Sarah Chen</div>
                                <div class="text-xs text-muted-foreground">Performance Marketing Director</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="terminal-card p-6 bg-card reveal-on-scroll" style="transition-delay: 100ms;">
                        <p class="text-sm text-muted-foreground mb-4 font-mono-terminal">"The React SDK integration was seamless. We added feature flags to our entire app in under an hour. The developer experience is fantastic."</p>
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-indigo-600"></div>
                            <div>
                                <div class="font-semibold text-sm">Alex Kumar</div>
                                <div class="text-xs text-muted-foreground">Frontend Engineer</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="terminal-card p-6 bg-card reveal-on-scroll" style="transition-delay: 200ms;">
                        <p class="text-sm text-muted-foreground mb-4 font-mono-terminal">"The global edge network is a game-changer. Our pages load instantly worldwide, and our international conversion rates have improved dramatically."</p>
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-cyan-500"></div>
                            <div>
                                <div class="font-semibold text-sm">Marcus Rodriguez</div>
                                <div class="text-xs text-muted-foreground">Growth Marketing Lead</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-muted/30 border-t border-border pt-16 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-5 gap-8 mb-12">
                <div class="col-span-2 md:col-span-1">
                    <div class="flex items-center gap-2 mb-4">
                        <div class="w-8 h-8 bg-primary text-primary-foreground rounded flex items-center justify-center font-bold font-mono-terminal">T</div>
                        <span class="font-bold text-lg tracking-tight">Tracked</span>
                    </div>
                    <p class="text-sm text-muted-foreground mb-4">The unified platform for tracking, delivery, and decisions.</p>
                    <div class="text-[10px] text-muted-foreground font-mono-terminal uppercase tracking-widest">
                        Made with <span class="text-red-500">â™¥</span> in New York
                    </div>
                </div>
                <div>
                    <h4 class="font-bold text-sm mb-4 uppercase tracking-wider font-mono-terminal text-primary">Platform</h4>
                    <ul class="space-y-2 text-sm text-muted-foreground">
                        <li><a href="/delivery" class="hover:text-foreground transition-colors">Content Delivery</a></li>
                        <li><a href="/targeting" class="hover:text-foreground transition-colors">Smart Targeting</a></li>
                        <li><a href="/analytics" class="hover:text-foreground transition-colors">Analytics</a></li>
                        <li><a href="/protection" class="hover:text-foreground transition-colors">Bot Protection</a></li>
                        <li><a href="/api" class="hover:text-foreground transition-colors">API Access</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-sm mb-4 uppercase tracking-wider font-mono-terminal text-primary">Solutions</h4>
                    <ul class="space-y-2 text-sm text-muted-foreground">
                        <li><a href="/agencies" class="hover:text-foreground transition-colors">For Agencies</a></li>
                        <li><a href="/ecommerce" class="hover:text-foreground transition-colors">E-commerce</a></li>
                        <li><a href="/lead-gen" class="hover:text-foreground transition-colors">Lead Generation</a></li>
                        <li><a href="/enterprise" class="hover:text-foreground transition-colors">Enterprise</a></li>
                        <li><a href="/pricing" class="hover:text-foreground transition-colors">Pricing</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-sm mb-4 uppercase tracking-wider font-mono-terminal text-primary">Resources</h4>
                    <ul class="space-y-2 text-sm text-muted-foreground">
                        <li><a href="/docs" class="hover:text-foreground transition-colors">Documentation</a></li>
                        <li><a href="/blog" class="hover:text-foreground transition-colors">Blog</a></li>
                        <li><a href="/case-studies" class="hover:text-foreground transition-colors">Case Studies</a></li>
                        <li><a href="/support" class="hover:text-foreground transition-colors">Support</a></li>
                        <li><a href="/status" class="hover:text-foreground transition-colors">Status</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-sm mb-4 uppercase tracking-wider font-mono-terminal text-primary">Company</h4>
                    <ul class="space-y-2 text-sm text-muted-foreground">
                        <li><a href="/about" class="hover:text-foreground transition-colors">About</a></li>
                        <li><a href="/careers" class="hover:text-foreground transition-colors">Careers</a></li>
                        <li><a href="/contact" class="hover:text-foreground transition-colors">Contact</a></li>
                        <li><a href="/privacy" class="hover:text-foreground transition-colors">Privacy</a></li>
                        <li><a href="/terms" class="hover:text-foreground transition-colors">Terms</a></li>
                    </ul>
                </div>
            </div>
            <div class="pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-[10px] text-muted-foreground font-mono-terminal uppercase tracking-widest">Â© 2025 Tracked LLC. All rights reserved.</p>
                <div class="flex items-center gap-6">
                    <a href="https://twitter.com/tracked" class="text-muted-foreground hover:text-foreground transition-colors">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                    </a>
                    <a href="https://discord.gg/tracked" class="text-muted-foreground hover:text-foreground transition-colors">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/></svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Dark Mode Logic
        const themeToggle = document.getElementById('theme-toggle');
        
        // Check local storage or system preference
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }

        themeToggle.addEventListener('click', () => {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.theme = 'light';
            } else {
                document.documentElement.classList.add('dark');
                localStorage.theme = 'dark';
            }
        });

        // Mobile Menu Logic
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');
        let isMenuOpen = false;

        function toggleMenu() {
            isMenuOpen = !isMenuOpen;
            if (isMenuOpen) {
                mobileMenu.classList.remove('translate-x-full');
            } else {
                mobileMenu.classList.add('translate-x-full');
            }
        }

        mobileMenuBtn.addEventListener('click', toggleMenu);

        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                isMenuOpen = false;
                mobileMenu.classList.add('translate-x-full');
            });
        });

        // Scroll Animation Logic
        const revealElements = document.querySelectorAll('.reveal-on-scroll');

        const revealCallback = (entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        };

        const revealObserver = new IntersectionObserver(revealCallback, {
            threshold: 0.15,
            rootMargin: '0px 0px -50px 0px'
        });

        revealElements.forEach(element => {
            revealObserver.observe(element);
        });

        // Macro Playground Logic
        const macroInput = document.getElementById('macro-input');
        const macroPreview = document.getElementById('macro-preview');
        const visitorContext = document.getElementById('visitor-context');

        if (macroInput && macroPreview) {
            // Detect real device/browser info from navigator
            function detectDeviceInfo() {
                const ua = navigator.userAgent;
                let device = 'Desktop';
                let os = 'Unknown';
                let browser = 'Unknown';
                
                // Detect OS
                if (ua.includes('Mac OS X') || ua.includes('Macintosh')) {
                    os = 'macOS';
                    device = 'Macintosh';
                } else if (ua.includes('Windows')) {
                    os = 'Windows';
                } else if (ua.includes('Linux')) {
                    os = 'Linux';
                } else if (ua.includes('Android')) {
                    os = 'Android';
                    device = 'Mobile';
                } else if (ua.includes('iPhone') || ua.includes('iPad')) {
                    os = 'iOS';
                    device = ua.includes('iPad') ? 'iPad' : 'iPhone';
                }
                
                // Detect Browser
                if (ua.includes('Chrome') && !ua.includes('Edg')) {
                    browser = 'Chrome';
                } else if (ua.includes('Firefox')) {
                    browser = 'Firefox';
                } else if (ua.includes('Safari') && !ua.includes('Chrome')) {
                    browser = 'Safari';
                } else if (ua.includes('Edg')) {
                    browser = 'Edge';
                }
                
                return { device, os, browser };
            }

            const deviceInfo = detectDeviceInfo();
            
            // Get timezone from browser (we can detect this without permission)
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone || 'UTC';
            const locale = Intl.DateTimeFormat().resolvedOptions().locale || 'en-US';
            
            // Demo data matching real macro names from rules.ts populateMacros function
            // Note: Using string concatenation to prevent server-side macro replacement
            // The server replaces {{macro}} in HTML/CSS files, so we must construct these strings dynamically
            const M = (name) => '{' + '{' + name + '}' + '}'; // Builds macro syntax without triggering server replacement
            
            // Set textarea content via JS to avoid server-side macro replacement
            if (macroInput) {
                macroInput.value = `<h1>Hello ${M('user.CITY')}!</h1>

<p>
  Welcome to our special offer for
  <span class="text-primary">${M('user.DEVICE')}</span> users.
</p>

<div class="offer-box">
  Exclusive deal for visitors from
  <strong>${M('user.COUNTRY')}</strong>
</div>

<a href="/offer?clickid=${M('click.id')}" class="inline-block mt-4 px-8 py-3 rounded-md bg-primary text-primary-foreground font-medium text-center hover:bg-primary/90 transition-all shadow-sm hover:scale-105">
  Claim Offer
</a>`;
            }
            
            const demoData = {
                // User Geo (showing example values like the server would inject)
                [M('user.CITY')]: `<span class="bg-pastel-warning/80 dark:bg-pastel-warning/20 px-1.5 py-0.5 rounded text-amber-900 dark:text-amber-200 font-bold border border-amber-500/20">New York</span>`,
                [M('user.COUNTRY')]: `<span class="bg-pastel-info/80 dark:bg-pastel-info/20 px-1.5 py-0.5 rounded text-blue-900 dark:text-blue-200 font-bold border border-blue-500/20">United States</span>`,
                [M('user.COUNTRY_CODE')]: 'US',
                [M('user.CONTINENT')]: 'NA',
                [M('user.REGION_NAME')]: 'New York',
                [M('user.REGION_CODE')]: 'NY',
                [M('user.POSTAL_CODE')]: '10001',
                [M('user.TIMEZONE')]: timezone,
                
                // User Device (using detected values from visitor's browser)
                [M('user.DEVICE')]: `<span class="bg-pastel-violet/80 dark:bg-pastel-violet/20 px-1.5 py-0.5 rounded text-violet-900 dark:text-violet-200 font-bold border border-violet-500/20">${deviceInfo.device}</span>`,
                [M('user.BROWSER')]: `<span class="bg-pastel-teal/80 dark:bg-pastel-teal/20 px-1.5 py-0.5 rounded text-teal-900 dark:text-teal-200 font-bold border border-teal-500/20">${deviceInfo.browser}</span>`,
                [M('user.OS')]: `<span class="bg-pastel-pink/80 dark:bg-pastel-pink/20 px-1.5 py-0.5 rounded text-pink-900 dark:text-pink-200 font-bold border border-pink-500/20">${deviceInfo.os}</span>`,
                [M('user.BROWSER_VERSION')]: '120',
                [M('user.OS_VERSION')]: '14.0',
                
                // User Network
                [M('user.IP')]: `<span class="bg-pastel-cyan/80 dark:bg-pastel-cyan/20 px-1.5 py-0.5 rounded text-cyan-900 dark:text-cyan-200 font-bold border border-cyan-500/20">192.168.1.1</span>`,
                [M('user.ORGANIZATION')]: 'Example ISP',
                [M('user.REFERRER')]: 'https://google.com',
                [M('user.COLO')]: 'EWR',
                [M('user.ASN')]: '13335',
                
                // Campaign & Tracking
                [M('click.id')]: 'clk_8f7a9d2b',
                [M('campaign.id')]: 'camp_abc123',
                [M('campaign.name')]: 'Summer Sale',
                [M('session.id')]: 'sess_xyz789',
                
                // Request
                [M('request.DOMAIN')]: 'example.com',
                [M('request.PATH')]: '/offer'
            };

            // Update visitor context display
            if (visitorContext) {
                visitorContext.textContent = `Visitor Context: New York, United States (${deviceInfo.device})`;
            }

            // Define insertMacro globally so onclick works (must be before buttons)
            window.insertMacro = function(macro) {
                const start = macroInput.selectionStart;
                const end = macroInput.selectionEnd;
                const text = macroInput.value;
                const before = text.substring(0, start);
                const after = text.substring(end, text.length);
                
                macroInput.value = before + macro + after;
                macroInput.selectionStart = macroInput.selectionEnd = start + macro.length;
                macroInput.focus();
                updatePreview();
            };
            
            // Generate macro buttons dynamically to avoid server-side replacement
            const macroButtonsContainer = document.getElementById('macro-buttons');
            if (macroButtonsContainer) {
                const macros = ['user.CITY', 'user.COUNTRY', 'user.DEVICE', 'user.BROWSER', 'user.OS', 'user.IP', 'click.id'];
                macros.forEach(name => {
                    const btn = document.createElement('button');
                    btn.className = 'px-1.5 py-0.5 rounded bg-[#333] text-gray-300 text-[10px] font-mono-terminal border border-[#444] hover:bg-[#444] transition-colors';
                    btn.textContent = M(name);
                    btn.onclick = () => window.insertMacro(M(name));
                    macroButtonsContainer.appendChild(btn);
                });
            }

            const highlightContent = document.getElementById('highlight-content');

            function updatePreview() {
                let text = macroInput.value;
                
                // Update highlight
                // Escape HTML for Prism display
                const escaped = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                highlightContent.innerHTML = escaped;
                if (window.Prism) {
                    Prism.highlightElement(highlightContent);
                }

                let content = text;
                
                // First, protect escaped macros {{!macro}} by replacing with placeholder
                const escapedMacros = new Map();
                let escapedIndex = 0;
                content = content.replace(/\{\{!([^}]+)\}\}/g, (match, macroName) => {
                    const placeholder = `__ESCAPED_MACRO_${escapedIndex}__`;
                    escapedMacros.set(placeholder, `{{${macroName}}}`);
                    escapedIndex++;
                    return placeholder;
                });
                
                // Then replace {{macro}} with demo values (matching server-side behavior)
                Object.keys(demoData).forEach(macro => {
                    const regex = new RegExp(macro.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                    content = content.replace(regex, demoData[macro]);
                });
                
                // Finally, restore escaped macros as literal text
                escapedMacros.forEach((literal, placeholder) => {
                    content = content.replace(placeholder, literal);
                });

                // Render HTML with replaced macros
                macroPreview.innerHTML = content;
            }

            // Sync scrolling
            macroInput.addEventListener('scroll', () => {
                const highlight = document.getElementById('editor-highlight');
                highlight.scrollTop = macroInput.scrollTop;
                highlight.scrollLeft = macroInput.scrollLeft;
            });

            macroInput.addEventListener('input', updatePreview);
            updatePreview(); // Initial render
        }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
    <script>
        // Custom Prism Rule for Macros: {{...}}
        if (Prism.languages.markup) {
            Prism.languages.insertBefore('markup', 'tag', {
                'macro': {
                    pattern: /\{\{.*?\}\}/,
                    alias: 'macro'
                }
            });
        }
    </script>
</body>
</html>
