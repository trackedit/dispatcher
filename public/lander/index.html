
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tracked | Tracking, Delivery & Decision Platform</title>
    <meta name="description" content="Tracked is the unified platform for performance marketing and product teams. Get cookieless tracking, user attribution, session replays, event tracking, powerful A/B testing, and a global content delivery & decision engine." />
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Inter"', 'sans-serif'],
                        mono: ['"JetBrains Mono"', 'monospace'],
                    },
                    colors: {
                        border: "var(--border)",
                        input: "var(--input)",
                        ring: "var(--ring)",
                        background: "var(--background)",
                        foreground: "var(--foreground)", 
                        primary: {
                            DEFAULT: "var(--primary)",
                            foreground: "var(--primary-foreground)",
                        },
                        secondary: {
                            DEFAULT: "var(--secondary)",
                            foreground: "var(--secondary-foreground)",
                        },
                        destructive: {
                            DEFAULT: "var(--destructive)",
                            foreground: "var(--destructive-foreground)",
                        },
                        muted: {
                            DEFAULT: "var(--muted)",
                            foreground: "var(--muted-foreground)",
                        },
                        accent: {
                            DEFAULT: "var(--accent)",
                            foreground: "var(--accent-foreground)",
                        },
                        popover: {
                            DEFAULT: "var(--popover)",
                            foreground: "var(--popover-foreground)",
                        },
                        card: {
                            DEFAULT: "var(--card)",
                            foreground: "var(--card-foreground)",
                        },
                        pastel: {
                            success: "var(--pastel-success)",
                            error: "var(--pastel-error)",
                            warning: "var(--pastel-warning)",
                            info: "var(--pastel-info)",
                            accent: "var(--pastel-accent)",
                            indigo: "var(--pastel-indigo)",
                            pink: "var(--pastel-pink)",
                            cyan: "var(--pastel-cyan)",
                            orange: "var(--pastel-orange)",
                            teal: "var(--pastel-teal)",
                            violet: "var(--pastel-violet)",
                        }
                    },
                    borderRadius: {
                        lg: "var(--radius)",
                        md: "calc(var(--radius) - 2px)",
                        sm: "calc(var(--radius) - 4px)",
                    },
                    animation: {
                        "accordion-down": "accordion-down 0.2s ease-out",
                        "accordion-up": "accordion-up 0.2s ease-out",
                        "scroll": "scroll 40s linear infinite",
                        "fade-in-up": "fadeInUp 0.8s ease-out forwards",
                        "slide-in-right": "slideInRight 0.8s ease-out forwards",
                        "slide-in-left": "slideInLeft 0.8s ease-out forwards",
                        "pulse-slow": "pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite",
                        "float": "float 6s ease-in-out infinite",
                        "blob": "blob 7s infinite",
                    },
                    keyframes: {
                        "accordion-down": {
                            from: { height: 0, opacity: 0 },
                            to: { height: "var(--radix-accordion-content-height)", opacity: 1 },
                        },
                        "accordion-up": {
                            from: { height: "var(--radix-accordion-content-height)", opacity: 1 },
                            to: { height: 0, opacity: 0 },
                        },
                        scroll: {
                            to: { transform: "translate(calc(-50% - 1.5rem))" },
                        },
                        fadeInUp: {
                            "0%": { opacity: 0, transform: "translateY(20px)" },
                            "100%": { opacity: 1, transform: "translateY(0)" },
                        },
                        float: {
                            "0%, 100%": { transform: "translateY(0)" },
                            "50%": { transform: "translateY(-10px)" },
                        },
                        shimmer: {
                            "100%": { transform: "translateX(100%)" },
                        },
                        blob: {
                            "0%": { transform: "translate(0px, 0px) scale(1)" },
                            "33%": { transform: "translate(30px, -50px) scale(1.1)" },
                            "66%": { transform: "translate(-20px, 20px) scale(0.9)" },
                            "100%": { transform: "translate(0px, 0px) scale(1)" },
                        }
                    },
                },
            },
        }
    </script>
    <style>
        :root {
            --radius: 0.5rem;
            
            /* Live Demo Pulsing */
            @keyframes live-pulse {
                0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(113, 113, 122, 0.7); }
                70% { transform: scale(1); box-shadow: 0 0 0 6px rgba(113, 113, 122, 0); }
                100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(113, 113, 122, 0); }
            }
            .animate-live {
                animation: live-pulse 2s infinite;
            }

            /* Sticky Banner Styles */
            #sticky-personalization {
                transform: translateY(-100%);
                transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), opacity 0.4s;
                opacity: 0;
            }
            #sticky-personalization.visible {
                transform: translateY(0);
                opacity: 1;
            }
            
            /* Custom Scrollbar for interactive area */
            .custom-scrollbar::-webkit-scrollbar {
                width: 8px;
                height: 8px;
            }
            .custom-scrollbar::-webkit-scrollbar-track {
                background: transparent;
            }
            .custom-scrollbar::-webkit-scrollbar-thumb {
                background: rgba(128, 128, 128, 0.5);
                border-radius: 10px;
                border: 2px solid transparent;
                background-clip: content-box;
            }
            .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                background: rgba(128, 128, 128, 0.8);
                border: 2px solid transparent;
                background-clip: content-box;
            }
            
            /* Prevent iOS Zoom on inputs */
            @media screen and (max-width: 768px) {
                input, textarea, select {
                    font-size: 16px !important;
                }
            }
            
            /* Light Mode - Monochrome & Clean */
            --background: #ffffff;
            --foreground: #09090b;
            --card: #ffffff;
            --card-foreground: #09090b;
            --popover: #ffffff;
            --popover-foreground: #09090b;
            --primary: #18181b;
            --primary-foreground: #fafafa;
            --secondary: #f4f4f5;
            --secondary-foreground: #18181b;
            --muted: #f4f4f5;
            --muted-foreground: #71717a;
            --accent: #f4f4f5;
            --accent-foreground: #18181b;
            --destructive: #ef4444;
            --destructive-foreground: #fafafa;
            --border: #e4e4e7;
            --input: #e4e4e7;
            --ring: #18181b;
            
            /* Pastels - Functional */
            --pastel-success: #dcfce7;
            --pastel-error: #fee2e2;
            --pastel-warning: #fef3c7;
            --pastel-info: #dbeafe;
            --pastel-accent: #f3e8ff;
            --pastel-indigo: #e0e7ff;
            --pastel-pink: #fce7f3;
            --pastel-cyan: #ecfeff;
            --pastel-orange: #ffedd5;
            --pastel-teal: #f0fdfa;
            --pastel-violet: #ede9fe;
        }

        .dark {
            /* Dark Mode - Deep OLED Grays */
            --background: #09090b;
            --foreground: #fafafa;
            --card: #09090b;
            --card-foreground: #fafafa;
            --popover: #09090b;
            --popover-foreground: #fafafa;
            --primary: #fafafa;
            --primary-foreground: #18181b;
            --secondary: #27272a;
            --secondary-foreground: #fafafa;
            --muted: #27272a;
            --muted-foreground: #a1a1aa;
            --accent: #27272a;
            --accent-foreground: #fafafa;
            --destructive: #7f1d1d;
            --destructive-foreground: #fafafa;
            --border: #27272a;
            --input: #27272a;
            --ring: #d4d4d8;
            
            /* Pastels - Dark Mode (Muted) */
            --pastel-success: #052e16;
            --pastel-error: #450a0a;
            --pastel-warning: #451a03;
            --pastel-info: #172554;
            --pastel-accent: #3b0764;
            --pastel-indigo: #1e1b4b;
            --pastel-pink: #500724;
            --pastel-cyan: #083344;
            --pastel-orange: #431407;
            --pastel-teal: #042f2e;
            --pastel-violet: #2e1065;
        }
        
        body {
            font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .font-mono-terminal {
            font-family: 'JetBrains Mono', monospace;
            font-variant-numeric: tabular-nums;
            letter-spacing: -0.02em;
        }
        
        /* Grid Background Pattern */
        .bg-grid {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, var(--border) 1px, transparent 1px),
                              linear-gradient(to bottom, var(--border) 1px, transparent 1px);
            mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
            -webkit-mask-image: linear-gradient(to bottom, transparent, black 10%, black 90%, transparent);
        }

        .terminal-card {
            border: 1px solid var(--border);
            border-radius: var(--radius);
            background-color: var(--card);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        .terminal-card:hover {
            box-shadow: 0 20px 40px -10px rgba(0,0,0,0.1);
            border-color: var(--primary);
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .mask-fade-sides {
            mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
        }
        
        /* Animation Utility Classes */
        .reveal-on-scroll {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s cubic-bezier(0.2, 0.8, 0.2, 1), transform 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .animate-shimmer {
            animation: shimmer 2s infinite;
        }
        
        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .dark .glass {
            background: rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .accentStripe {
            width: 40px;
            height: 2px;
            background: var(--primary);
            border-radius: 1px;
            margin: 0 auto;
            opacity: 0.8;
        }
    </style>
    <!-- Prism.js for Syntax Highlighting - Load both themes -->
    <link id="prism-theme-dark" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" media="(prefers-color-scheme: dark)" />
    <link id="prism-theme-light" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" media="(prefers-color-scheme: light)" />
    <style>
        /* Editor Overlays */
        #editor-container {
            position: relative;
            width: 100%;
            height: 100%;
        }
        #macro-input, #editor-highlight {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 1rem;
            margin: 0;
            border: none;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            line-height: 1.625;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow: auto;
        }
        @media (max-width: 768px) {
            #macro-input, #editor-highlight {
                font-size: 1rem; /* Prevent zoom on iOS */
            }
        }
        #macro-input {
            z-index: 1;
            color: transparent;
            background: transparent;
            caret-color: currentColor;
            resize: none;
        }
        #editor-highlight {
            z-index: 0;
            pointer-events: none;
            background: #f8f8f8;
        }
        .dark #editor-highlight {
            background: #1e1e1e;
        }
        #editor-highlight code {
            font-family: inherit;
            background: transparent !important;
            padding: 0 !important;
        }
        /* Custom Prism Colors for Light Mode */
        .token.tag, .token.attr-name, .token.namespace, .token.deleted { color: #0550ae; }
        .token.string, .token.attr-value { color: #0a3069; }
        .token.punctuation { color: #24292f; }
        .token.operator { color: #24292f; }
        .token.keyword { color: #cf222e; }
        .token.comment { color: #6e7781; }
        /* Custom Prism Colors for Dark Mode */
        .dark .token.tag, .dark .token.attr-name, .dark .token.namespace, .dark .token.deleted { color: #569cd6; }
        .dark .token.string, .dark .token.attr-value { color: #ce9178; }
        .dark .token.punctuation { color: #808080; }
        .dark .token.operator { color: #d4d4d4; }
        .dark .token.keyword { color: #569cd6; }
        .dark .token.comment { color: #6a9955; }
        /* Macro Highlighting */
        .token.macro {
            color: #0969da;
            font-weight: bold;
            text-decoration: underline;
        }
        .dark .token.macro {
            color: #4fc1ff;
        }
    </style>
</head>
<body class="bg-background text-foreground min-h-screen flex flex-col transition-colors duration-300">

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 border-b border-border/80 dark:border-zinc-800 bg-background/80 backdrop-blur-md">
        <div class="container mx-auto px-4 h-16 flex items-center justify-between">
            <a href="/" class="flex items-center gap-3 group">
                <div class="w-8 h-8 bg-primary text-primary-foreground rounded-md flex items-center justify-center font-bold font-mono-terminal text-lg">
                    T
                </div>
                <span class="font-bold text-lg tracking-tight">Tracked</span>
            </a>
            
            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-muted-foreground">
                <a href="#solutions" class="hover:text-foreground transition-colors">Solutions</a>
                <a href="#features" class="hover:text-foreground transition-colors">Platform</a>
                <a href="#pricing" class="hover:text-foreground transition-colors">Pricing</a>
                <a href="#faq" class="hover:text-foreground transition-colors">FAQ</a>
            </div>
            
            <div class="flex items-center gap-4">
                <button id="theme-toggle" class="p-2 text-muted-foreground hover:text-foreground transition-colors rounded-md hover:bg-secondary">
                    <!-- Sun Icon -->
                    <svg class="w-5 h-5 hidden dark:block" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>
                    <!-- Moon Icon -->
                    <svg class="w-5 h-5 block dark:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
                <a href="/login" class="hidden md:inline-flex text-sm font-medium text-muted-foreground hover:text-foreground transition-colors">Sign In</a>
                <a href="/signup" class="hidden md:inline-flex h-9 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow-sm transition-all hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring">
                    Get Started
                </a>
                
                <button id="mobile-menu-btn" class="md:hidden p-2 text-muted-foreground hover:text-foreground">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu" class="fixed inset-0 top-16 bg-background z-40 transform translate-x-full transition-transform duration-300 md:hidden flex flex-col p-6 overflow-y-auto border-t border-border">
            <div class="flex flex-col gap-6 text-lg font-medium">
                <a href="#solutions" class="mobile-link py-2 border-b border-border/50">Solutions</a>
                <a href="#features" class="mobile-link py-2 border-b border-border/50">Platform</a>
                <a href="#pricing" class="mobile-link py-2 border-b border-border/50">Pricing</a>
                <a href="#faq" class="mobile-link py-2 border-b border-border/50">FAQ</a>
            </div>
            <div class="mt-8 flex flex-col gap-4">
                <a href="/login" class="w-full py-3 text-center rounded-md border border-border bg-card">Sign In</a>
                <a href="/signup" class="w-full py-3 text-center rounded-md bg-primary text-primary-foreground">Get Started</a>
            </div>
        </div>
    </nav>

    <!-- Sticky Personalization Banner -->
    <div id="sticky-personalization" class="fixed top-16 left-0 w-full z-40 bg-gradient-to-b from-zinc-50/95 to-zinc-100/95 dark:from-zinc-900/95 dark:to-zinc-950/95 text-foreground border-b border-zinc-200/50 dark:border-white/5 backdrop-blur-md shadow-[inset_0_1px_0_0_rgba(255,255,255,0.8)] dark:shadow-[inset_0_1px_0_0_rgba(255,255,255,0.05)]">
        <div class="container mx-auto px-4 h-12 md:h-10 flex items-center justify-between text-xs font-mono-terminal uppercase tracking-wider">
            <div class="flex items-center gap-3 truncate">
                <div class="flex items-center flex-shrink-0">
                    <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 animate-live shadow-[0_0_8px_rgba(16,185,129,0.5)]"></div>
                </div>
                <div class="flex items-center gap-4 text-muted-foreground truncate">
                    <span>Served from <span class="text-blue-600 dark:text-blue-400 font-medium">{{user.colo.name}}</span></span>
                    <span class="w-1 h-1 rounded-full bg-border"></span>
                    <span>Connecting from <span class="text-foreground font-medium">{{user.CITY}}, {{user.COUNTRY}}</span></span>
                    <span class="w-1 h-1 rounded-full bg-border hidden sm:block"></span>
                    <span class="hidden sm:inline truncate">{{user.BROWSER}} on {{user.OS}}</span>
                </div>
            </div>
            <button id="close-sticky" class="p-2 -mr-2 hover:text-foreground text-muted-foreground transition-colors">
                <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
        </div>
    </div>

    <main class="flex-1 pt-16">
        
        <!-- Hero Area -->
        <section class="relative py-12 md:py-20 overflow-hidden">
            <!-- Grid Background -->
            <div class="absolute inset-0 bg-grid opacity-[0.03] dark:opacity-[0.05] pointer-events-none"></div>
            
            <!-- Background Decorative Blobs -->
            <div class="absolute top-0 -left-4 w-72 h-72 bg-pastel-indigo/30 dark:bg-pastel-indigo/10 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-3xl opacity-70 animate-blob"></div>
            <div class="absolute top-0 -right-4 w-72 h-72 bg-pastel-pink/30 dark:bg-pastel-pink/10 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-3xl opacity-70 animate-blob" style="animation-delay: 2s;"></div>
            <div class="absolute -bottom-8 left-20 w-72 h-72 bg-pastel-cyan/30 dark:bg-pastel-cyan/10 rounded-full mix-blend-multiply dark:mix-blend-normal filter blur-3xl opacity-70 animate-blob" style="animation-delay: 4s;"></div>
            
            <div class="container mx-auto px-4 text-center relative z-10">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-secondary/50 border border-border text-xs font-medium text-muted-foreground mb-8 animate-fade-in-up">
                    <span class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></span>
                    Now available in public beta
                </div>
                
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-medium tracking-tight mb-6 text-foreground animate-fade-in-up" style="animation-delay: 0.1s;">
                    The platform for <strong class="font-bold text-primary">tracking</strong>, <br /><strong class="font-bold text-primary">delivery</strong>, and <strong class="font-bold text-primary">decisions</strong>
                </h1>
                
                <p class="text-lg md:text-xl text-muted-foreground max-w-2xl mx-auto mb-10 text-balance animate-fade-in-up leading-relaxed" style="animation-delay: 0.2s;">
                    Get a complete view of your users with cookieless tracking, session replays, and event attribution.
                    Deliver targeted content at scale or use our decision engine to power your own apps.
                </p>
                
                <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mb-16 md:mb-24 animate-fade-in-up" style="animation-delay: 0.3s;">
                    <a href="/signup" class="h-12 px-8 rounded-md bg-primary text-primary-foreground font-medium flex items-center justify-center hover:bg-primary/90 transition-all w-full sm:w-auto shadow-lg hover:shadow-xl hover:-translate-y-0.5">
                        Create a free account
                    </a>
                    <a href="#features" class="h-12 px-8 rounded-md border border-border bg-background hover:bg-secondary text-foreground font-medium flex items-center justify-center transition-all w-full sm:w-auto hover:-translate-y-0.5">
                        See how it works
                    </a>
                </div>
                
                <!-- High Fidelity Dashboard Mockup -->
                <div class="relative max-w-6xl mx-auto rounded-xl border border-border bg-card/80 backdrop-blur-xl shadow-2xl overflow-hidden animate-fade-in-up ring-1 ring-white/10 group" style="animation-delay: 0.4s;">
                    <!-- Window Controls -->
                    <div class="h-10 border-b border-border bg-muted/50 flex items-center px-4 justify-between select-none">
                        <div class="flex gap-2">
                            <div class="w-3 h-3 rounded-full bg-[#ff5f56] border border-[#e0443e]"></div>
                            <div class="w-3 h-3 rounded-full bg-[#ffbd2e] border border-[#dea123]"></div>
                            <div class="w-3 h-3 rounded-full bg-[#27c93f] border border-[#1aab29]"></div>
                        </div>
                        <div class="flex items-center gap-2 px-3 py-1 rounded-md bg-background border border-border/50 text-[10px] font-mono-terminal text-muted-foreground opacity-60 hover:opacity-100 transition-opacity">
                             <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
                             tracked.app/dashboard
                        </div>
                        <div class="w-12"></div>
                    </div>

                    <div class="p-6 bg-background text-left">
                        <!-- KPI Grid Mockup -->
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                            <!-- KPI 1 -->
                            <div class="p-4 rounded-lg border border-border bg-card hover:border-primary/20 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-2 text-muted-foreground text-sm font-medium">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                        Revenue
                                    </div>
                                    <span class="text-[10px] text-muted-foreground cursor-pointer hover:text-foreground">Ã—</span>
                                </div>
                                <div class="flex items-end justify-between">
                                    <div>
                                        <div class="text-2xl font-bold font-mono-terminal tracking-tight">$42,850</div>
                                        <div class="text-xs text-muted-foreground mt-1">Total revenue</div>
                                    </div>
                                    <div class="flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-pastel-success/50 text-green-700">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
                                        +12.5%
                                    </div>
                                </div>
                            </div>
                             <!-- KPI 2 -->
                            <div class="p-4 rounded-lg border border-border bg-card hover:border-primary/20 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-2 text-muted-foreground text-sm font-medium">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" /></svg>
                                        ROAS
                                    </div>
                                </div>
                                <div class="flex items-end justify-between">
                                    <div>
                                        <div class="text-2xl font-bold font-mono-terminal tracking-tight text-green-600">3.42</div>
                                        <div class="text-xs text-muted-foreground mt-1">Return on spend</div>
                                    </div>
                                    <div class="flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-pastel-success/50 text-green-700">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
                                        +5.2%
                                    </div>
                                </div>
                            </div>
                             <!-- KPI 3 -->
                            <div class="p-4 rounded-lg border border-border bg-card hover:border-primary/20 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-2 text-muted-foreground text-sm font-medium">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>
                                        Visitors
                                    </div>
                                </div>
                                <div class="flex items-end justify-between">
                                    <div>
                                        <div class="text-2xl font-bold font-mono-terminal tracking-tight">12,450</div>
                                        <div class="text-xs text-muted-foreground mt-1">Unique clicks</div>
                                    </div>
                                    <div class="flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-pastel-warning/50 text-yellow-700">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14" /></svg>
                                        0.0%
                                    </div>
                                </div>
                            </div>
                             <!-- KPI 4 -->
                            <div class="p-4 rounded-lg border border-border bg-card hover:border-primary/20 transition-colors">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-2 text-muted-foreground text-sm font-medium">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                                        Conv. Rate
                                    </div>
                                </div>
                                <div class="flex items-end justify-between">
                                    <div>
                                        <div class="text-2xl font-bold font-mono-terminal tracking-tight">2.8%</div>
                                        <div class="text-xs text-muted-foreground mt-1">Visitor to sale</div>
                                    </div>
                                    <div class="flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] font-medium bg-pastel-error/50 text-red-700">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6" /></svg>
                                        -1.2%
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Data Table Mockup -->
                        <div class="border border-border rounded-lg bg-card overflow-hidden">
                            <!-- Toolbar -->
                            <div class="p-3 border-b border-border flex flex-col md:flex-row gap-3 items-center justify-between bg-muted/10">
                                <div class="flex items-center gap-3 w-full md:w-auto">
                                    <div class="relative">
                                        <svg class="absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                                        <input type="text" placeholder="Search campaigns..." class="pl-9 pr-4 py-1.5 text-sm bg-background border border-border rounded-md w-full md:w-64 focus:outline-none focus:ring-1 focus:ring-primary/50" />
                                    </div>
                                    <div class="hidden md:flex items-center gap-1">
                                        <div class="px-2 py-1 bg-secondary rounded text-xs border border-border flex items-center gap-1 font-medium text-foreground cursor-pointer hover:bg-muted">
                                            Campaign
                                            <svg class="w-3 h-3 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                                        </div>
                                        <div class="px-2 py-1 bg-background rounded text-xs border border-border flex items-center gap-1 font-medium text-muted-foreground cursor-pointer hover:bg-muted">
                                            Last 7 Days
                                            <svg class="w-3 h-3 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center gap-2">
                                    <button class="px-3 py-1.5 text-xs font-medium border border-border rounded hover:bg-muted flex items-center gap-2 transition-colors">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                                        Customize
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Table Scroll Container -->
                            <div class="overflow-x-auto">
                                <div class="min-w-[800px]">
                                    <!-- Header -->
                                    <div class="grid grid-cols-12 bg-muted/50 border-b border-border text-xs font-medium text-muted-foreground select-none">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-1 cursor-pointer hover:text-foreground">
                                            Campaign Name
                                            <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 text-center">Status</div>
                                        <div class="col-span-2 px-4 py-2 text-right cursor-pointer hover:text-foreground">Spend</div>
                                        <div class="col-span-2 px-4 py-2 text-right cursor-pointer hover:text-foreground">Revenue</div>
                                        <div class="col-span-1 px-4 py-2 text-right cursor-pointer hover:text-foreground">ROAS</div>
                                        <div class="col-span-1 px-4 py-2 text-right cursor-pointer hover:text-foreground">Conv.</div>
                                        <div class="col-span-1 px-4 py-2 text-right cursor-pointer hover:text-foreground">CTR</div>
                                    </div>

                                    <!-- Row 1: Parent Campaign -->
                                    <div class="grid grid-cols-12 border-b border-border text-sm hover:bg-accent/30 transition-colors group cursor-pointer items-center h-10">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-2 truncate">
                                            <button class="p-0.5 rounded hover:bg-muted text-muted-foreground transition-transform hover:scale-110"><svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></button>
                                            <span class="font-medium text-blue-600 flex items-center gap-2"><svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.04c-5.5 0-10 4.49-10 10.02c0 5 3.66 9.15 8.44 9.9v-7H7.9v-2.9h2.54V9.85c0-2.51 1.49-3.89 3.78-3.89c1.09 0 2.23.19 2.23.19v2.47h-1.26c-1.24 0-1.63.77-1.63 1.56v1.88h2.78l-.45 2.9h-2.33v7a10 10 0 0 0 8.44-9.9c0-5.53-4.5-10.02-10-10.02Z"/></svg> Cold_Traffic_USA_Scale</span>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 flex justify-center">
                                            <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                                        </div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal text-muted-foreground">$12,450.00</div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal font-medium">$42,850.00</div>
                                        <div class="col-span-1 px-4 py-2 text-right font-medium text-green-600">3.44</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">342</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">1.2%</div>
                                    </div>
                                    
                                    <!-- Row 2: Parent Campaign (Expanded) -->
                                    <div class="grid grid-cols-12 border-b border-border text-sm bg-accent/5 hover:bg-accent/10 transition-colors group cursor-pointer items-center h-10">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-2 truncate">
                                            <button class="p-0.5 rounded hover:bg-muted text-foreground transition-transform rotate-90"><svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg></button>
                                            <span class="font-medium text-foreground flex items-center gap-2"><svg class="w-3 h-3 text-red-500" viewBox="0 0 24 24" fill="currentColor"><path d="M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.761H12.545z"/></svg> YouTube_Retargeting</span>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 flex justify-center">
                                            <div class="w-2 h-2 rounded-full bg-emerald-500 animate-pulse"></div>
                                        </div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal text-muted-foreground">$2,100.00</div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal font-medium">$8,450.00</div>
                                        <div class="col-span-1 px-4 py-2 text-right font-medium text-green-600">4.02</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">85</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">2.4%</div>
                                    </div>

                                     <!-- Row 3: Child Ad Set (Nested) -->
                                    <div class="grid grid-cols-12 border-b border-border text-sm bg-accent/10 hover:bg-accent/20 transition-colors group cursor-pointer items-center h-10 ">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-2 truncate pl-12">
                                            <svg class="w-3 h-3 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" /></svg>
                                            <span class="text-sm font-medium">Ad Set: VSL_Variant_A</span>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 flex justify-center">
                                            <div class="w-1.5 h-1.5 rounded-full bg-emerald-500"></div>
                                        </div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal text-muted-foreground">$1,200.00</div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal font-medium">$5,100.00</div>
                                        <div class="col-span-1 px-4 py-2 text-right font-medium text-green-600">4.25</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">52</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">2.8%</div>
                                    </div>
                                    
                                    <!-- Row 4: Child Ad Set (Nested) -->
                                    <div class="grid grid-cols-12 border-b border-border text-sm bg-accent/10 hover:bg-accent/20 transition-colors group cursor-pointer items-center h-10 ">
                                        <div class="col-span-4 px-4 py-2 flex items-center gap-2 truncate pl-12">
                                            <svg class="w-3 h-3 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" /></svg>
                                            <span class="text-sm font-medium">Ad Set: VSL_Variant_B</span>
                                        </div>
                                        <div class="col-span-1 px-4 py-2 flex justify-center">
                                            <div class="w-1.5 h-1.5 rounded-full bg-yellow-500"></div>
                                        </div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal text-muted-foreground">$900.00</div>
                                        <div class="col-span-2 px-4 py-2 text-right font-mono-terminal font-medium">$3,350.00</div>
                                        <div class="col-span-1 px-4 py-2 text-right font-medium text-yellow-600">3.72</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">33</div>
                                        <div class="col-span-1 px-4 py-2 text-right text-muted-foreground">1.9%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Live Demo Personalization Section -->
        <section class="py-10 md:py-16 relative overflow-hidden bg-background text-foreground border-y border-border">
            <div class="absolute inset-0 bg-grid opacity-[0.03] dark:opacity-[0.05] pointer-events-none"></div>
            <!-- Subtle accent glow -->
            <div class="absolute right-0 top-1/2 -translate-y-1/2 w-96 h-96 bg-zinc-500/10 dark:bg-emerald-500/10 blur-3xl rounded-full pointer-events-none"></div>

            <div class="container mx-auto px-4 relative z-10">
                <div class="max-w-5xl mx-auto">
                    <div class="flex flex-col md:flex-row items-center md:items-start justify-between gap-12">
                        <div class="text-center md:text-left max-w-lg md:pt-4">
                            <div class="flex items-center justify-center md:justify-start gap-2 mb-4">
                                <div class="w-2.5 h-2.5 rounded-full bg-emerald-500 animate-live shadow-[0_0_10px_rgba(16,185,129,0.5)]"></div>
                                <span class="text-xs font-bold uppercase tracking-[0.2em] text-emerald-600 dark:text-emerald-400">Live Personalization</span>
                            </div>
                            <h2 class="text-3xl md:text-5xl font-bold mb-4 tracking-tight leading-tight text-foreground">This is what we know about you <span class="text-emerald-600 dark:text-emerald-400">right now</span>.</h2>
                            <p class="text-muted-foreground text-lg leading-relaxed mb-6">
                                Our global infrastructure identifies and personalizes your experience in milliseconds. No cookies, no trackers, just pure server-side intelligence from the closest point to your request.
                            </p>
                            <div class="flex flex-wrap gap-4">
                                <div class="px-4 py-2 rounded-full bg-muted/50 dark:bg-white/5 border border-border dark:border-white/10 text-sm font-mono-terminal flex items-center gap-2">
                                    <svg class="w-4 h-4 text-emerald-600 dark:text-emerald-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                                    <span id="edge-latency-hero" class="text-emerald-600 dark:text-emerald-400">--ms</span> Latency
                                </div>
                                <div class="px-4 py-2 rounded-full bg-muted/50 dark:bg-white/5 border border-border dark:border-white/10 text-sm font-mono-terminal flex items-center gap-2">
                                    <svg class="w-4 h-4 text-blue-600 dark:text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                    Global Scale
                                </div>
                            </div>
                        </div>
                        
                        <div class="w-full md:w-96 rounded-xl border border-border bg-card/50 backdrop-blur-xl p-6 shadow-lg transform hover:scale-[1.02] transition-transform duration-500 ring-1 ring-white/10">
                            <div class="space-y-4 font-mono text-xs">
                                <div class="flex justify-between items-center border-b border-border pb-2">
                                    <span class="text-muted-foreground uppercase tracking-wider">Location</span>
                                    <span class="text-emerald-600 dark:text-emerald-400 font-bold">{{user.CITY}}, {{user.COUNTRY}}</span>
                                </div>
                                <div class="flex justify-between items-center border-b border-border pb-2">
                                    <span class="text-muted-foreground uppercase tracking-wider">Device</span>
                                    <span class="text-foreground text-right">{{user.BRAND}} <br/><span class="text-[10px] text-muted-foreground">{{user.DEVICE}} â€¢ {{user.ARCH}}</span></span>
                                </div>
                                <div class="flex justify-between items-center border-b border-border pb-2">
                                    <span class="text-muted-foreground uppercase tracking-wider">Software</span>
                                    <span class="text-foreground">{{user.OS}} {{user.OS_VERSION}} <br/><span class="text-[10px] text-muted-foreground text-right block">{{user.BROWSER}} {{user.BROWSER_VERSION}}</span></span>
                                </div>
                                <div class="flex justify-between items-center border-b border-border pb-2">
                                    <span class="text-muted-foreground uppercase tracking-wider">Bot Detection</span>
                                    <span class="text-foreground text-right">
                                        <span class="text-emerald-600 dark:text-emerald-400 font-bold">{{user.IS_VERIFIED_BOT}}</span>
                                        <br/><span class="text-[10px] text-muted-foreground">Score: {{user.BOT_SCORE}} â€¢ Threat: {{user.THREAT_SCORE}}</span>
                                    </span>
                                </div>
                                <div class="flex justify-between items-center border-b border-border pb-2">
                                    <span class="text-muted-foreground uppercase tracking-wider">Server</span>
                                    <span class="text-blue-600 dark:text-blue-400">{{user.COLO}}</span>
                                </div>
                                <div class="flex justify-between items-center border-b border-border pb-2">
                                    <span class="text-muted-foreground uppercase tracking-wider">ISP</span>
                                    <span class="text-foreground truncate max-w-[200px] text-right" title="{{user.ORGANIZATION}}">{{user.ORGANIZATION}}</span>
                                </div>
                                
                                <!-- Client-Side Detected (JS) -->
                                <div class="pt-4">
                                    <div class="text-[9px] text-amber-600 dark:text-amber-400/80 uppercase tracking-widest mb-3 flex items-center gap-1.5">
                                        <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a8 8 0 100 16 8 8 0 000-16zm1 11H9v-2h2v2zm0-4H9V5h2v4z"/></svg>
                                        Client-Side Detection
                                    </div>
                                    <div class="flex justify-between items-center border-b border-border pb-2 mb-2">
                                        <span class="text-muted-foreground uppercase tracking-wider">Screen</span>
                                        <span id="client-screen" class="text-amber-600 dark:text-amber-400">detecting...</span>
                                    </div>
                                    <div class="flex justify-between items-center border-b border-border pb-2 mb-2">
                                        <span class="text-muted-foreground uppercase tracking-wider">GPU</span>
                                        <span id="client-gpu" class="text-amber-600 dark:text-amber-400 truncate max-w-[180px] text-right">detecting...</span>
                                    </div>
                                    <div class="flex justify-between items-center border-b border-border pb-2 mb-2">
                                        <span class="text-muted-foreground uppercase tracking-wider">Timezone</span>
                                        <span id="client-timezone" class="text-foreground">detecting...</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-muted-foreground uppercase tracking-wider">Model Guess</span>
                                        <span id="client-model" class="text-fuchsia-600 dark:text-fuchsia-400">detecting...</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 pt-4 border-t border-border flex items-center justify-between">
                                <span class="text-[9px] text-muted-foreground uppercase tracking-[0.2em]">Response Time</span>
                                <span id="response-time-display" class="text-[10px] font-bold text-emerald-600 dark:text-emerald-400">&lt; --ms</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Partners Section -->
        <section class="py-12 border-y border-border bg-secondary/30">
            <div class="container mx-auto px-4">
                <p class="text-xs font-mono-terminal text-center text-muted-foreground mb-8 uppercase tracking-widest">Compatible with your favorite platforms</p>
                <div class="relative w-full overflow-hidden mask-fade-sides group">
                    <div class="flex animate-scroll w-max gap-8 md:gap-12 items-center">
                        <!-- Logos -->
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="outbrain.png" alt="Outbrain" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="tab.png" alt="Taboola" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="meta.png" alt="Meta" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="google.png" alt="Google" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="micosoft.png" alt="Microsoft" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="tiktok.png" alt="TikTok" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="cloudflare.png" alt="Cloudflare" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="aws.png" alt="AWS" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="vercel.png" alt="Vercel" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <!-- Duplicates -->
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="outbrain.png" alt="Outbrain" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="tab.png" alt="Taboola" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                        <div class="flex items-center justify-center h-7 md:h-8 w-auto max-w-[80px] md:max-w-[100px]">
                            <img src="meta.png" alt="Meta" class="h-full w-auto object-contain opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all duration-300" />
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Use Cases / Solutions -->
        <section id="solutions" class="py-16 md:py-24 bg-muted/20">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16 reveal-on-scroll">
                    <span class="text-xs font-mono-terminal text-primary mb-2 block">How it works</span>
                    <h2 class="text-2xl md:text-4xl font-bold mb-4">Launch in minutes</h2>
                    <div class="accentStripe"></div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                    <!-- Step 1 -->
                    <div class="terminal-card p-6 reveal-on-scroll hover:border-primary/50 transition-all hover:-translate-y-1">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold">1</span>
                            <h4 class="text-lg font-bold">Add Domain</h4>
                        </div>
                        <p class="text-muted-foreground text-sm">Point your DNS to Tracked or use our instant subdomains.</p>
                    </div>

                    <!-- Step 2 -->
                    <div class="terminal-card p-6 reveal-on-scroll hover:border-primary/50 transition-all hover:-translate-y-1" style="transition-delay: 100ms;">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold">2</span>
                            <h4 class="text-lg font-bold">Create Campaign</h4>
                        </div>
                        <p class="text-muted-foreground text-sm">Set up your campaign structure and default routing behavior.</p>
                    </div>

                    <!-- Step 3 -->
                    <div class="terminal-card p-6 reveal-on-scroll hover:border-primary/50 transition-all hover:-translate-y-1" style="transition-delay: 200ms;">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold">3</span>
                            <h4 class="text-lg font-bold">Set Rules</h4>
                        </div>
                        <p class="text-muted-foreground text-sm">Configure sophisticated targeting rules and destination splits.</p>
                    </div>

                    <!-- Step 4 -->
                    <div class="terminal-card p-6 reveal-on-scroll hover:border-primary/50 transition-all hover:-translate-y-1" style="transition-delay: 300ms;">
                        <div class="flex items-center gap-3 mb-4">
                            <span class="w-8 h-8 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold">4</span>
                            <h4 class="text-lg font-bold">Profit & Optimize</h4>
                        </div>
                        <p class="text-muted-foreground text-sm">Analyze real-time data, drill down, and scale your winners.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Audience Personalization Demo Section -->
        <section class="py-12 md:py-20 bg-background border-y border-border relative">
             <div class="absolute inset-0 bg-grid opacity-[0.02] pointer-events-none"></div>
            <div class="container mx-auto px-4 relative z-10">
                <div class="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-center">
                    <!-- Left Column: Text & Buttons -->
                    <div class="text-center lg:text-left order-1">
                        <span class="text-xs font-mono-terminal text-primary mb-2 block uppercase tracking-widest">Same Assets, Infinite Versions</span>
                        <h2 class="text-2xl md:text-4xl font-bold mb-4">One landing page.<br/>Every audience.</h2>
                        <p class="text-muted-foreground text-base leading-relaxed mb-8">
                            Upload <strong>one template</strong>. Define variables in your rules. We swap headlines, images, and CTAs instantly based on who's visiting.
                        </p>

                        <!-- Audience Selector Buttons - Vertical on Desktop, Horizontal Scroll on Mobile -->
                        <div class="flex flex-nowrap lg:flex-col overflow-x-auto pb-4 lg:pb-0 justify-start lg:justify-start gap-3 px-0 snap-x lg:w-full lg:max-w-sm scrollbar-hide">
                            <button onclick="setVariablePreset('default')" data-scenario="default" class="preset-btn snap-center shrink-0 group flex items-center gap-4 px-5 py-3.5 rounded-xl border border-border bg-card/50 hover:border-primary transition-all shadow-sm w-auto lg:w-full text-left backdrop-blur-sm">
                                <div class="w-2.5 h-2.5 rounded-full bg-zinc-400 group-hover:scale-110 transition-transform shrink-0 shadow-[0_0_8px_rgba(161,161,170,0.4)]"></div>
                                <div class="flex flex-col">
                                    <span class="text-sm font-bold tracking-tight">Default View</span>
                                    <span class="text-[10px] text-muted-foreground hidden lg:block uppercase tracking-wider font-medium opacity-70">No rules matched</span>
                                </div>
                            </button>
                            <button onclick="setVariablePreset('ios')" data-scenario="ios" class="preset-btn snap-center shrink-0 group flex items-center gap-4 px-5 py-3.5 rounded-xl border border-border bg-card/50 hover:border-blue-500 transition-all shadow-sm w-auto lg:w-full text-left backdrop-blur-sm">
                                <svg class="w-5 h-5 text-blue-500 shrink-0 opacity-70 group-hover:opacity-100 transition-opacity" fill="currentColor" viewBox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.1 2.48-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91 1.34.03 2.19.49 2.84 1.13-2.31 1.98-1.93 5.43.34 6.34-.34 1.25-1.01 2.5-2.39 3.19zM15.47 2.1c.34 1.62-.84 3.24-2.28 3.39-.31-1.8 1.18-3.41 2.28-3.39z"/></svg>
                                <div class="flex flex-col">
                                    <span class="text-sm font-bold tracking-tight">iOS Optimized</span>
                                    <span class="text-[10px] text-muted-foreground hidden lg:block uppercase tracking-wider font-medium opacity-70">if OS = iOS</span>
                                </div>
                            </button>
                            <button onclick="setVariablePreset('germany')" data-scenario="germany" class="preset-btn snap-center shrink-0 group flex items-center gap-4 px-5 py-3.5 rounded-xl border border-border bg-card/50 hover:border-amber-500 transition-all shadow-sm w-auto lg:w-full text-left backdrop-blur-sm">
                                <svg class="w-5 h-5 text-amber-500 shrink-0 opacity-70 group-hover:opacity-100 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                <div class="flex flex-col">
                                    <span class="text-sm font-bold tracking-tight">Germany</span>
                                    <span class="text-[10px] text-muted-foreground hidden lg:block uppercase tracking-wider font-medium opacity-70">if Country = DE</span>
                                </div>
                            </button>
                            <button onclick="setVariablePreset('night')" data-scenario="night" class="preset-btn snap-center shrink-0 group flex items-center gap-4 px-5 py-3.5 rounded-xl border border-border bg-card/50 hover:border-indigo-500 transition-all shadow-sm w-auto lg:w-full text-left backdrop-blur-sm">
                                <svg class="w-5 h-5 text-indigo-500 shrink-0 opacity-70 group-hover:opacity-100 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
                                <div class="flex flex-col">
                                    <span class="text-sm font-bold tracking-tight">Night Owl Mode</span>
                                    <span class="text-[10px] text-muted-foreground hidden lg:block uppercase tracking-wider font-medium opacity-70">if Time = Night</span>
                                </div>
                            </button>
                            <button onclick="setVariablePreset('returning')" data-scenario="returning" class="preset-btn snap-center shrink-0 group flex items-center gap-4 px-5 py-3.5 rounded-xl border border-border bg-card/50 hover:border-amber-500 transition-all shadow-sm w-auto lg:w-full text-left backdrop-blur-sm">
                                <svg class="w-5 h-5 text-amber-500 shrink-0 opacity-70 group-hover:opacity-100 transition-opacity" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" /></svg>
                                <div class="flex flex-col">
                                    <span class="text-sm font-bold tracking-tight">Retargeting</span>
                                    <span class="text-[10px] text-muted-foreground hidden lg:block uppercase tracking-wider font-medium opacity-70">if visit count > 1</span>
                                </div>
                            </button>
                        </div>
                    </div>

                    <!-- Right Column: Phone Mockup Preview -->
                    <div class="relative order-2 flex justify-center lg:justify-end">
                        <!-- Fixed-height container to prevent layout shift -->
                        <div class="relative min-h-[550px] md:min-h-[600px] flex items-center justify-center w-full">
                            <!-- Desktop Frame (Hidden by default) -->
                            <div id="preview-desktop-frame" class="hidden absolute inset-0 flex items-center justify-center">
                                <div class="relative bg-zinc-900/5 dark:bg-zinc-950/50 rounded-xl border border-border shadow-2xl backdrop-blur-sm w-full max-w-[500px] mx-auto overflow-hidden">
                                    <!-- Window Controls -->
                                    <div class="h-8 border-b border-border bg-muted/50 flex items-center px-3 justify-between select-none">
                                        <div class="flex gap-1.5">
                                            <div class="w-2.5 h-2.5 rounded-full bg-[#ff5f56]"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-[#ffbd2e]"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-[#27c93f]"></div>
                                        </div>
                                        <div class="flex-1 text-center text-[10px] text-muted-foreground font-mono opacity-50">
                                            tracked.app
                                        </div>
                                        <div class="w-10"></div>
                                    </div>
                                    <!-- Screen -->
                                    <div class="relative bg-white dark:bg-zinc-950 h-[500px] flex flex-col">
                                         <!-- Landing Page Content - Injected via JS -->
                                         <div id="desktop-preview-render" class="p-8 h-full flex flex-col transition-opacity duration-300 overflow-y-auto custom-scrollbar">
                                             <!-- Injected via JS -->
                                         </div>
                                    </div>

                                    <!-- Condition Badge Desktop -->
                                    <div id="condition-badge-desktop" class="absolute -bottom-4 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full bg-primary text-primary-foreground text-xs font-bold shadow-lg whitespace-nowrap z-30">
                                        Condition: Default
                                    </div>
                                </div>
                            </div>

                            <!-- Phone Frame -->
                            <div id="preview-phone-frame" class="absolute inset-0 flex items-center justify-center">
                                <div class="relative">
                                    <!-- Phone outer shell -->
                                    <div class="relative bg-zinc-900 rounded-[2.5rem] p-2 shadow-2xl w-full max-w-[300px] md:max-w-[340px] mx-auto">
                                        <!-- Notch -->
                                        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-28 h-6 bg-zinc-900 rounded-b-2xl z-20"></div>
                                        
                                        <!-- Screen -->
                                        <div class="relative bg-white dark:bg-zinc-950 rounded-[2rem] overflow-hidden" style="aspect-ratio: 9/19.5;">
                                        <!-- Status bar -->
                                        <div class="absolute top-0 inset-x-0 h-14 bg-gradient-to-b from-black/10 to-transparent z-20 flex flex-col px-5 pt-1">
                                            <div class="flex items-center justify-between w-full">
                                                <span class="text-[10px] font-medium text-foreground/60">9:41</span>
                                                <div class="flex items-center gap-1">
                                                    <svg class="w-3 h-3 text-foreground/60" fill="currentColor" viewBox="0 0 24 24"><path d="M12.33 4.67L18 10.33V20H6V10.33l6.33-5.66z"/></svg>
                                                    <svg class="w-3 h-3 text-foreground/60" fill="currentColor" viewBox="0 0 24 24"><path d="M2 17h2v4h16v-4h2v6H2v-6zm1-7h2v6H3v-6zm4-3h2v9H7V7zm4-3h2v12h-2V4zm4 2h2v10h-2V6zm4 4h2v6h-2v-6z"/></svg>
                                                    <div class="w-5 h-2.5 border border-foreground/60 rounded-sm relative ml-0.5">
                                                        <div class="absolute inset-0.5 bg-emerald-500 rounded-sm" style="width: 75%"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- Mini Address Bar -->
                                            <div class="mt-1 h-6 bg-zinc-100/80 dark:bg-zinc-800/80 backdrop-blur-sm rounded-lg flex items-center px-2 gap-1.5 border border-black/5 dark:border-white/5">
                                                <svg class="w-2.5 h-2.5 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
                                                <span class="text-[9px] text-muted-foreground truncate">tracked.app/lander</span>
                                            </div>
                                        </div>
                                        
                                        <!-- Landing Page Content - Injected via JS -->
                                        <div id="variable-preview-render" class="pt-16 px-4 pb-5 h-full flex flex-col transition-opacity duration-300 overflow-y-auto custom-scrollbar">
                                                <!-- Injected via JS -->
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Condition Badge Phone -->
                                    <div id="condition-badge-phone" class="absolute -bottom-4 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full bg-primary text-primary-foreground text-xs font-bold shadow-lg whitespace-nowrap z-30">
                                        Condition: Default
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Unified Story Demo Section -->
        <section id="demo" class="py-16 md:py-32 relative overflow-hidden">
            <div class="container mx-auto px-4 relative z-10">
                <div class="text-center mb-24 reveal-on-scroll">
                    <span class="text-xs font-mono-terminal text-primary mb-2 block uppercase tracking-widest">See it in action</span>
                    <h2 class="text-3xl md:text-5xl font-bold mb-6">One platform, complete control</h2>
                    <div class="accentStripe mb-10"></div>
                    <p class="text-lg text-muted-foreground max-w-2xl mx-auto">From asset hosting to intelligent routing and real-time analytics, everything works together seamlessly.</p>
                </div>

                <div class="space-y-24 md:space-y-40">
                    <!-- Part A: Asset Drive -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center">
                        <div class="order-2 lg:order-1 reveal-on-scroll group perspective">
                            <div class="terminal-card overflow-hidden shadow-2xl border-primary/20 bg-card/50 backdrop-blur-sm transform transition-all duration-500 group-hover:rotate-y-2 group-hover:scale-[1.02]">
                                <div class="bg-muted/30 border-b border-border p-3 flex items-center justify-between">
                                    <div class="flex items-center gap-2">
                                        <div class="flex gap-1.5">
                                            <div class="w-2.5 h-2.5 rounded-full bg-red-400/80"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-amber-400/80"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-green-400/80"></div>
                                        </div>
                                    </div>
                                    <div class="text-[10px] font-mono-terminal text-muted-foreground">Assets / Campaign-01</div>
                                </div>
                                <div class="p-4 bg-muted/5 min-h-[300px]">
                                    <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                                        <!-- File Item -->
                                        <div class="group relative aspect-square rounded-lg border border-border bg-background p-3 flex flex-col items-center justify-center gap-3 hover:border-primary/50 transition-colors cursor-pointer">
                                            <div class="w-10 h-10 rounded bg-pastel-info/50 text-blue-600 dark:text-blue-400 flex items-center justify-center">
                                                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                            </div>
                                            <span class="text-xs font-medium truncate w-full text-center">lander-v1.html</span>
                                            <div class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity">
                                                <div class="w-1.5 h-1.5 rounded-full bg-emerald-500"></div>
                                            </div>
                                        </div>
                                        <!-- File Item -->
                                        <div class="group relative aspect-square rounded-lg border border-border bg-background p-3 flex flex-col items-center justify-center gap-3 hover:border-primary/50 transition-colors cursor-pointer">
                                            <div class="w-10 h-10 rounded bg-pastel-warning/50 text-amber-600 dark:text-amber-400 flex items-center justify-center">
                                                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>
                                            </div>
                                            <span class="text-xs font-medium truncate w-full text-center">style.css</span>
                                        </div>
                                        <!-- File Item -->
                                        <div class="group relative aspect-square rounded-lg border border-border bg-background p-3 flex flex-col items-center justify-center gap-3 hover:border-primary/50 transition-colors cursor-pointer">
                                            <div class="w-10 h-10 rounded bg-pastel-accent/50 text-purple-600 dark:text-purple-400 flex items-center justify-center">
                                                <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                            </div>
                                            <span class="text-xs font-medium truncate w-full text-center">video_vsl.mp4</span>
                                        </div>
                                        <!-- Upload Placeholder -->
                                        <div class="aspect-square rounded-lg border-2 border-dashed border-border flex flex-col items-center justify-center gap-2 hover:border-primary/50 hover:bg-muted/50 transition-all cursor-pointer">
                                            <svg class="w-6 h-6 text-muted-foreground" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                                            <span class="text-xs text-muted-foreground font-medium">Upload</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="order-1 lg:order-2 reveal-on-scroll">
                            <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                STEP 1
                            </div>
                            <h3 class="text-3xl font-bold mb-4">Upload once, deploy everywhere</h3>
                            <p class="text-muted-foreground text-lg mb-8 leading-relaxed">
                                Forget complex FTP setups. Drag and drop your landing pages, scripts, and assets directly into our global edge network.
                            </p>
                            <ul class="space-y-4">
                                <li class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 shrink-0">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    </div>
                                    <span>Instant global CDN propagation</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 shrink-0">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    </div>
                                    <span>Automatic SSL certificates</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 shrink-0">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    </div>
                                    <span>Built-in macro injection (<code class="text-xs bg-muted border border-border px-1.5 py-0.5 rounded text-foreground font-mono">{{!user.CITY}}</code>, <code class="text-xs bg-muted border border-border px-1.5 py-0.5 rounded text-foreground font-mono">{{!user.DEVICE}}</code>)</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Part B: Rules Engine -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center">
                         <div class="reveal-on-scroll order-1">
                            <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                STEP 2
                            </div>
                            <h3 class="text-3xl font-bold mb-4">Route traffic with surgical precision</h3>
                            <p class="text-muted-foreground text-lg mb-8 leading-relaxed">
                                Create sophisticated flow logic without writing code. Redirect, proxy, or split-test based on 50+ data points.
                            </p>
                            <ul class="space-y-4">
                                <li class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 shrink-0">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    </div>
                                    <span>Device & GEO targeting</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 shrink-0">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    </div>
                                    <span>Weighted split testing</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 shrink-0">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    </div>
                                    <span>ISP & Connection type filtering</span>
                                </li>
                            </ul>
                        </div>
                        <div class="reveal-on-scroll relative order-2">
                            <!-- RuleFlowCard Mockup -->
                            <div class="space-y-4 font-sans text-sm">
                                
                                <!-- Rule 1 Card -->
                                <div class="terminal-card p-0 overflow-hidden shadow-lg">
                                    <div class="bg-muted/30 p-3 border-b border-border flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <span class="inline-flex items-center rounded-full border border-transparent bg-primary/10 px-2 py-0.5 text-xs font-semibold text-primary">
                                                Rule 1
                                            </span>
                                            <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                        </div>
                                        <div class="text-muted-foreground hover:text-destructive cursor-pointer">
                                            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" /></svg>
                                        </div>
                                    </div>
                                    
                                    <div class="p-4 space-y-4">
                                        <!-- IF Block -->
                                        <div class="flex items-start gap-3">
                                            <span class="inline-flex items-center rounded px-2 py-1 text-xs font-bold bg-violet-100 text-violet-700 dark:bg-violet-900/50 dark:text-violet-300 uppercase tracking-wider mt-0.5">IF</span>
                                            <div class="flex-1 space-y-2">
                                                <div class="flex flex-wrap gap-2">
                                                    <div class="inline-flex items-center gap-1.5 rounded border border-border bg-background px-2 py-1 text-xs text-foreground group/pill">
                                                        <span class="font-medium text-muted-foreground">Device Type</span>
                                                        <span class="font-bold text-primary">=</span>
                                                        <span>Mobile</span>
                                                        <button class="ml-0.5 p-0.5 rounded hover:bg-destructive/10 text-muted-foreground/50 hover:text-destructive transition-colors opacity-0 group-hover/pill:opacity-100">
                                                            <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                                                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                                            </svg>
                                                        </button>
                                                    </div>
                                                    <span class="text-xs font-bold text-muted-foreground self-center">AND</span>
                                                    <div class="inline-flex items-center gap-1.5 rounded border border-border bg-background px-2 py-1 text-xs text-foreground group/pill">
                                                        <span class="font-medium text-muted-foreground">OS</span>
                                                        <span class="font-bold text-primary">=</span>
                                                        <span>iOS</span>
                                                        <button class="ml-0.5 p-0.5 rounded hover:bg-destructive/10 text-muted-foreground/50 hover:text-destructive transition-colors opacity-0 group-hover/pill:opacity-100">
                                                            <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                                                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- THEN Block -->
                                        <div class="flex items-start gap-3">
                                            <span class="inline-flex items-center rounded px-2 py-1 text-xs font-bold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300 uppercase tracking-wider mt-0.5">THEN</span>
                                            <div class="flex-1">
                                                <div class="rounded border border-border bg-background p-3 hover:border-primary/50 transition-colors">
                                                    <div class="flex items-center gap-3">
                                                        <div class="w-8 h-8 rounded bg-blue-500/10 flex items-center justify-center text-blue-500">
                                                            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" /></svg>
                                                        </div>
                                    <div>
                                                            <div class="font-medium text-sm">App Store Redirect</div>
                                                            <div class="text-[10px] text-muted-foreground truncate max-w-[200px]">https://apps.apple.com/app/id123456</div>
                                    </div>
                                                        <span class="ml-auto text-xs font-mono-terminal bg-muted px-2 py-1 rounded">REDIRECT</span>
                                                    </div>
                                                </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                                <!-- Rule 2 Card -->
                                <div class="terminal-card p-0 overflow-hidden shadow-lg opacity-90">
                                     <div class="bg-muted/30 p-3 border-b border-border flex items-center justify-between">
                                        <div class="flex items-center gap-2">
                                            <span class="inline-flex items-center rounded-full border border-transparent bg-secondary px-2 py-0.5 text-xs font-semibold text-foreground">
                                                Rule 2
                                            </span>
                                            <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                                </div>
                                </div>
                                    
                                    <div class="p-4 space-y-4">
                                        <!-- ELSE IF Block -->
                                        <div class="flex items-start gap-3">
                                            <span class="inline-flex items-center rounded px-2 py-1 text-xs font-bold bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300 uppercase tracking-wider mt-0.5 whitespace-nowrap">ELSE IF</span>
                                            <div class="flex-1 space-y-2">
                                                <div class="flex flex-wrap gap-2">
                                                    <div class="inline-flex items-center gap-1.5 rounded border border-border bg-background px-2 py-1 text-xs text-foreground group/pill">
                                                        <span class="font-medium text-muted-foreground">Country</span>
                                                        <span class="font-bold text-primary">IN</span>
                                                        <span>ðŸ‡ºðŸ‡¸ ðŸ‡¨ðŸ‡¦ ðŸ‡¬ðŸ‡§</span>
                                                        <button class="ml-0.5 p-0.5 rounded hover:bg-destructive/10 text-muted-foreground/50 hover:text-destructive transition-colors opacity-0 group-hover/pill:opacity-100">
                                                            <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                                                                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                                                            </svg>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- THEN Block (Split) -->
                                        <div class="flex items-start gap-3">
                                            <span class="inline-flex items-center rounded px-2 py-1 text-xs font-bold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/50 dark:text-emerald-300 uppercase tracking-wider mt-0.5">THEN</span>
                                            <div class="flex-1 space-y-3">
                                                <!-- Split Test Visual -->
                                                <div class="h-2 w-full rounded-full bg-muted overflow-hidden flex">
                                                    <div class="h-full bg-primary w-1/2"></div>
                                                    <div class="h-full bg-muted-foreground/30 w-1/2"></div>
                                                </div>
                                                
                                                <div class="grid grid-cols-2 gap-3">
                                                    <div class="rounded border border-primary bg-primary/5 p-2">
                                                        <div class="text-[10px] text-muted-foreground font-mono-terminal mb-1">50% â€¢ VSL Page A</div>
                                                        <div class="font-medium text-xs">Main Lander</div>
                                                    </div>
                                                    <div class="rounded border border-border bg-background p-2">
                                                        <div class="text-[10px] text-muted-foreground font-mono-terminal mb-1">50% â€¢ VSL Page B</div>
                                                        <div class="font-medium text-xs">Variant Blue</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Part C: Macro Syntax Playground -->
                    <div class="reveal-on-scroll group grid grid-cols-1 gap-8">
                         <div class="text-center md:text-left">
                            <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                STEP 3
                            </div>
                            <h3 class="text-3xl font-bold mb-4">Dynamic Macros</h3>
                            <p class="text-muted-foreground text-lg mb-6 leading-relaxed max-w-2xl">
                                Use <code class="bg-muted border border-border px-1.5 py-0.5 rounded text-sm font-mono text-foreground">{{!user.CITY}}</code> placeholders in your HTML. We replace them with real visitor data on the server, instantly.
                            </p>
                        </div>

                        <!-- Interactive Playground -->
                        <div class="terminal-card bg-card shadow-sm overflow-hidden border-border transition-colors flex flex-col md:flex-row min-h-[600px] md:min-h-[400px]">
                            <!-- Input Side -->
                            <div class="flex-1 border-b md:border-b-0 md:border-r border-border bg-muted/30 dark:bg-[#1e1e1e] flex flex-col">
                                <div class="bg-muted/30 border-b border-border px-4 py-2 flex items-center justify-between shrink-0">
                                    <span class="text-xs font-mono-terminal text-muted-foreground dark:text-gray-400">your-lander.html</span>
                                    <span class="inline-flex items-center gap-1.5 px-2 py-1 rounded-md bg-primary/10 text-primary text-[10px] font-medium font-mono-terminal border border-primary/20" title="Click in the editor below and start typing to see macros replaced in real-time">
                                        <svg class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                        </svg>
                                        Edit to see macros replaced
                                    </span>
                                </div>
                                <div class="flex-1 relative" id="editor-container">
                                    <pre id="editor-highlight" aria-hidden="true"><code class="language-markup" id="highlight-content"></code></pre>
                                    <textarea id="macro-input" class="focus:outline-none focus:ring-1 focus:ring-primary/50 border-none" spellcheck="false"></textarea>
                                </div>
                                <div class="p-3 border-t border-border bg-muted/30 shrink-0">
                                    <div class="text-[10px] uppercase text-muted-foreground/70 dark:text-gray-500 font-bold mb-2 font-mono-terminal">Click to insert:</div>
                                    <div id="macro-buttons" class="flex flex-wrap gap-1.5">
                                        <!-- Buttons generated via JS to avoid server-side macro replacement -->
                                    </div>
                                </div>
                            </div>

                            <!-- Output Side -->
                            <div class="flex-1 bg-background flex flex-col relative group/preview">
                                <div class="bg-muted/30 border-b border-border px-4 py-2 flex items-center justify-center shrink-0">
                                    <span id="visitor-context" class="max-w-full truncate text-[11px] font-mono-terminal text-muted-foreground bg-background/70 dark:bg-background/40 border border-border/60 rounded-full px-3 py-1">
                                        yourdomain.com/offer
                                    </span>
                                </div>
                                <div class="p-6 flex flex-col h-full relative overflow-hidden bg-background">
                                    <div class="absolute inset-0 bg-grid opacity-[0.05] pointer-events-none"></div>
                                    <div id="macro-preview" class="relative z-10 prose prose-sm dark:prose-invert max-w-none">
                                        <!-- Content injected via JS -->
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Macro Quick Reference -->
                        <div class="mt-6 grid grid-cols-2 md:grid-cols-4 gap-3 text-xs">
                            <div class="p-3 rounded-lg border border-border bg-card">
                                <div class="font-bold text-foreground mb-1">Geo Data</div>
                                <div class="text-muted-foreground font-mono text-[10px] space-y-0.5">
                                    <div>user.CITY</div>
                                    <div>user.COUNTRY</div>
                                    <div>user.TIMEZONE</div>
                                </div>
                            </div>
                            <div class="p-3 rounded-lg border border-border bg-card">
                                <div class="font-bold text-foreground mb-1">Device</div>
                                <div class="text-muted-foreground font-mono text-[10px] space-y-0.5">
                                    <div>user.DEVICE</div>
                                    <div>user.OS</div>
                                    <div>user.BROWSER</div>
                                </div>
                            </div>
                            <div class="p-3 rounded-lg border border-border bg-card">
                                <div class="font-bold text-foreground mb-1">Network</div>
                                <div class="text-muted-foreground font-mono text-[10px] space-y-0.5">
                                    <div>user.IP</div>
                                    <div>user.ORGANIZATION</div>
                                    <div>user.ASN</div>
                                </div>
                            </div>
                            <div class="p-3 rounded-lg border border-border bg-card">
                                <div class="font-bold text-foreground mb-1">Tracking</div>
                                <div class="text-muted-foreground font-mono text-[10px] space-y-0.5">
                                    <div>click.id</div>
                                    <div>session.id</div>
                                    <div>campaign.name</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Part D: Analytics -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center">
                        <div class="order-2 lg:order-1 reveal-on-scroll group">
                            <div class="terminal-card overflow-hidden shadow-2xl bg-card border-primary/20 transition-all duration-300 group-hover:-translate-y-2">
                                <div class="p-0 overflow-x-auto">
                                    <table class="w-full text-sm text-left">
                                        <thead class="text-xs text-muted-foreground uppercase bg-muted/50 border-b border-border">
                                            <tr>
                                                <th class="px-4 py-3 font-medium">Campaign</th>
                                                <th class="px-4 py-3 font-medium text-right">Visitors</th>
                                                <th class="px-4 py-3 font-medium text-right">Conv.</th>
                                                <th class="px-4 py-3 font-medium text-right">CR%</th>
                                                <th class="px-4 py-3 font-medium text-right">EPC</th>
                                            </tr>
                                        </thead>
                                        <tbody class="divide-y divide-border">
                                            <!-- Parent Row -->
                                            <tr class="bg-primary/5 hover:bg-primary/10 transition-colors">
                                                <td class="px-4 py-3 font-medium flex items-center gap-2">
                                                    <svg class="w-4 h-4 text-muted-foreground transform rotate-90" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                                                    <span class="text-primary">US_Mobile_Scale</span>
                                                </td>
                                                <td class="px-4 py-3 text-right font-mono-terminal">12,450</td>
                                                <td class="px-4 py-3 text-right font-mono-terminal">842</td>
                                                <td class="px-4 py-3 text-right font-mono-terminal text-green-600 font-bold">6.7%</td>
                                                <td class="px-4 py-3 text-right font-mono-terminal">$3.42</td>
                                            </tr>
                                            <!-- Child Row 1 -->
                                            <tr class="bg-background hover:bg-muted/30 transition-colors">
                                                <td class="px-4 py-2 pl-10 text-xs text-muted-foreground flex items-center gap-2">
                                                    <div class="w-1.5 h-1.5 rounded-full bg-green-500"></div>
                                                    Lander V1 (Hosted)
                                                </td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">6,200</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">510</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs text-green-600">8.2%</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">$4.15</td>
                                            </tr>
                                            <!-- Child Row 2 -->
                                            <tr class="bg-background hover:bg-muted/30 transition-colors">
                                                <td class="px-4 py-2 pl-10 text-xs text-muted-foreground flex items-center gap-2">
                                                    <div class="w-1.5 h-1.5 rounded-full bg-yellow-500"></div>
                                                    Direct Link B
                                                </td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">6,250</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">332</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs text-yellow-600">5.3%</td>
                                                <td class="px-4 py-2 text-right font-mono-terminal text-xs">$2.68</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <div class="order-1 lg:order-2 reveal-on-scroll">
                            <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                STEP 4
                            </div>
                            <h3 class="text-3xl font-bold mb-4">Watch your metrics in real-time</h3>
                            <p class="text-muted-foreground text-lg mb-8 leading-relaxed">
                                No more delayed reports. See exactly which creatives, landing pages, and offers are performing the moment a click happens.
                            </p>
                            <ul class="space-y-4">
                                <li class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 shrink-0">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    </div>
                                    <span>Drill-down reporting</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 shrink-0">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    </div>
                                    <span>EPC & ROI tracking</span>
                                </li>
                                <li class="flex items-center gap-3">
                                    <div class="w-8 h-8 rounded-full bg-green-500/10 flex items-center justify-center text-green-500 shrink-0">
                                        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                    </div>
                                    <span>Server-side event attribution</span>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Step 5: Optimize & Scale -->
                    <div class="mt-32 max-w-6xl mx-auto">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-20 items-center">
                            <!-- Text Side -->
                            <div class="reveal-on-scroll order-1">
                                <div class="inline-flex items-center rounded-full border border-border bg-secondary px-3 py-1 text-xs font-medium text-muted-foreground mb-6">
                                    STEP 5
                                </div>
                                <h3 class="text-3xl font-bold mb-4">Optimize and Scale with AI</h3>
                                <p class="text-muted-foreground text-lg mb-8 leading-relaxed">
                                    Let AI agents work 24/7 to maximize your ROI. With complete access to your campaign data, they identify winning patterns, eliminate waste, and scale profitable campaigns automatically while you sleep.
                                </p>
                                <ul class="space-y-6">
                                    <li class="flex items-start gap-4">
                                        <div class="w-10 h-10 rounded bg-primary/10 flex items-center justify-center text-primary shrink-0 mt-1">
                                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.364-6.364l-.707-.707M6.364 18.364l-.707.707M18.364 18.364l-.707.707M12 5a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                                        </div>
                                        <div>
                                            <span class="font-bold text-lg block mb-1">AI-Powered Performance Analysis</span>
                                            <span class="text-sm text-muted-foreground leading-relaxed">Smart agents continuously analyze performance data to identify your highest-converting traffic sources and creatives.</span>
                                        </div>
                                    </li>
                                    <li class="flex items-start gap-4">
                                        <div class="w-10 h-10 rounded bg-primary/10 flex items-center justify-center text-primary shrink-0 mt-1">
                                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                                        </div>
                                        <div>
                                            <span class="font-bold text-lg block mb-1">Smart Automation & Scaling</span>
                                            <span class="text-sm text-muted-foreground leading-relaxed">Automatically scale winning campaigns, pause underperformers, and rotate landers based on real-time performance metrics.</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            
                            <!-- Visual Side -->
                            <div class="reveal-on-scroll order-2 group">
                                <div class="terminal-card overflow-hidden shadow-2xl bg-card border-primary/20 transition-all duration-300 group-hover:shadow-primary/10 group-hover:-translate-y-2">
                                    <div class="bg-muted/50 border-b border-border px-4 py-2 flex items-center justify-between">
                                        <div class="flex gap-1.5">
                                            <div class="w-2.5 h-2.5 rounded-full bg-red-500/50"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-yellow-500/50"></div>
                                            <div class="w-2.5 h-2.5 rounded-full bg-green-500/50"></div>
                                        </div>
                                        <span class="text-[10px] font-mono-terminal text-muted-foreground uppercase tracking-widest">AI Agent: Optimizer-01</span>
                                    </div>
                                    <div class="p-5 font-mono-terminal text-xs space-y-3 leading-relaxed">
                                        <div class="text-blue-400"># Initializing AI Agent...</div>
                                        <div class="text-gray-400">[info] Loading campaign data for "US_Mobile_Scale"</div>
                                        <div class="text-gray-400">[info] Analyzing 12,450 events across 3 variants</div>
                                        <div class="text-green-400">[match] Detected winning pattern in Lander V1</div>
                                        <div class="text-gray-400">[action] Increasing weight for Lander V1: 40% -> 75%</div>
                                        <div class="text-yellow-400">[action] Pausing underperforming variant: Direct Link B</div>
                                        <div class="text-purple-400"># Scaling up budget by 15% based on ROI target...</div>
                                        <div class="flex items-center gap-2 pt-4 text-primary animate-pulse border-t border-border/50">
                                            <span class="w-2 h-2 rounded-full bg-primary"></span>
                                            Agent active... monitoring performance
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- NEW: Integration Methods Grid (Cleaned up) -->
                <div class="mt-32 max-w-5xl mx-auto border-t border-border pt-20">
                    <div class="text-center mb-12 reveal-on-scroll">
                        <h3 class="text-2xl font-bold mb-4">3 Ways to Integrate</h3>
                        <p class="text-muted-foreground">Flexible integration options for any tech stack.</p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <!-- Method 1: Direct Redirect -->
                        <div class="terminal-card p-5 text-center reveal-on-scroll hover:border-primary/50 transition-colors">
                            <div class="w-10 h-10 rounded bg-pastel-warning/50 flex items-center justify-center text-amber-600 dark:text-amber-400 mx-auto mb-3">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
                            </div>
                            <h4 class="font-bold text-sm mb-1">Direct Redirect</h4>
                            <p class="text-xs text-muted-foreground mb-3">Tracked link, instant redirect</p>
                            <div class="bg-muted p-2 rounded text-[10px] font-mono-terminal text-muted-foreground border border-border/50 break-all">
                                trkd.it/c/abc
                            </div>
                        </div>

                        <!-- Method 2: JS Pixel -->
                        <div class="terminal-card p-5 text-center reveal-on-scroll hover:border-primary/50 transition-colors" style="transition-delay: 100ms;">
                            <div class="w-10 h-10 rounded bg-pastel-info/50 flex items-center justify-center text-blue-600 dark:text-blue-400 mx-auto mb-3">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" /></svg>
                            </div>
                            <h4 class="font-bold text-sm mb-1">JS Pixel</h4>
                            <p class="text-xs text-muted-foreground mb-3">Single line, full tracking</p>
                            <div class="bg-muted p-2 rounded text-[10px] font-mono-terminal text-muted-foreground border border-border/50 break-all">
                                &lt;script src="..."&gt;
                            </div>
                        </div>

                        <!-- Method 3: Hosted Mode -->
                        <div class="terminal-card p-5 text-center reveal-on-scroll hover:border-primary/50 transition-colors" style="transition-delay: 200ms;">
                            <div class="w-10 h-10 rounded bg-pastel-accent/50 flex items-center justify-center text-purple-600 dark:text-purple-400 mx-auto mb-3">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                            </div>
                            <h4 class="font-bold text-sm mb-1">Hosted (with us)</h4>
                            <p class="text-xs text-muted-foreground mb-3">Upload to Tracked Drive & point DNS</p>
                            <div class="bg-muted p-2 rounded text-[10px] font-mono-terminal text-muted-foreground border border-border/50 break-all">
                                CNAME â†’ dispatch.tracked.it
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

        <!-- Pricing -->
        <section id="pricing" class="py-16 md:py-24 bg-muted/20 border-t border-border">
            <div class="container mx-auto px-4">
                <div class="mb-16 text-center reveal-on-scroll">
                    <span class="text-xs font-mono-terminal text-primary mb-2 block">Pricing</span>
                    <h2 class="text-2xl md:text-3xl font-bold mb-4">Simple, transparent pricing</h2>
                    <div class="accentStripe mb-10"></div>
                </div>

                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 max-w-7xl mx-auto items-start">
                    <!-- Starter -->
                    <div class="terminal-card p-8 hover:border-primary/50 transition-colors bg-card reveal-on-scroll relative overflow-hidden">
                        <div class="absolute top-0 left-0 right-0 h-1 bg-pastel-teal"></div>
                        <h3 class="text-lg font-medium text-muted-foreground mb-4 mt-1">Starter</h3>
                        <div class="text-4xl font-bold mb-6 font-mono-terminal">$0</div>
                        <p class="text-sm text-muted-foreground mb-6">For individuals and small projects getting started.</p>
                        <a href="/signup" class="block w-full py-2.5 px-4 rounded border border-border text-center text-sm font-medium hover:bg-secondary transition-colors">Get Started</a>
                        <ul class="mt-8 space-y-3 text-sm text-muted-foreground font-mono-terminal">
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Cookieless tracking</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> API & SDKs</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Global edge delivery</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Community support</li>
                        </ul>
                    </div>

                    <!-- Business -->
                    <div class="terminal-card p-8 border-primary bg-secondary/10 relative shadow-sm reveal-on-scroll overflow-hidden" style="transition-delay: 100ms;">
                        <div class="absolute top-0 left-0 right-0 h-1 bg-pastel-info"></div>
                        <div class="absolute top-0 right-0 bg-primary text-primary-foreground px-3 py-1 text-[10px] font-bold uppercase tracking-wide rounded-bl font-mono-terminal">Most popular</div>
                        <h3 class="text-lg font-medium text-primary mb-4 mt-1">Business</h3>
                        <div class="text-4xl font-bold mb-6 font-mono-terminal">$49<span class="text-sm text-muted-foreground font-normal">/mo</span></div>
                        <p class="text-sm text-muted-foreground mb-6">For teams running experiments and personalizing content.</p>
                        <a href="/signup" class="block w-full py-2.5 px-4 rounded bg-primary text-primary-foreground text-center text-sm font-medium hover:bg-primary/90 transition-colors">Get Started</a>
                        <ul class="mt-8 space-y-3 text-sm font-mono-terminal">
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Everything in Starter</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Session replays</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Targeting & A/B testing</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Email support</li>
                        </ul>
                    </div>

                    <!-- Agency -->
                    <div class="terminal-card p-8 hover:border-primary/50 transition-colors bg-card reveal-on-scroll relative overflow-hidden" style="transition-delay: 200ms;">
                        <div class="absolute top-0 left-0 right-0 h-1 bg-pastel-accent"></div>
                        <h3 class="text-lg font-medium text-muted-foreground mb-4 mt-1">Agency</h3>
                        <div class="text-4xl font-bold mb-6 font-mono-terminal">$199<span class="text-sm text-muted-foreground font-normal">/mo</span></div>
                        <p class="text-sm text-muted-foreground mb-6">For agencies managing multiple clients and campaigns.</p>
                        <a href="/signup" class="block w-full py-2.5 px-4 rounded border border-border text-center text-sm font-medium hover:bg-secondary transition-colors">Get Started</a>
                        <ul class="mt-8 space-y-3 text-sm text-muted-foreground font-mono-terminal">
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Everything in Business</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Advanced delivery</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Team features</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Priority support</li>
                        </ul>
                    </div>

                    <!-- Enterprise -->
                    <div class="terminal-card p-8 hover:border-primary/50 transition-colors bg-card reveal-on-scroll relative overflow-hidden" style="transition-delay: 300ms;">
                        <div class="absolute top-0 left-0 right-0 h-1 bg-pastel-violet"></div>
                        <h3 class="text-lg font-medium text-muted-foreground mb-4 mt-1">Enterprise</h3>
                        <div class="text-4xl font-bold mb-6 font-mono-terminal">Custom</div>
                        <p class="text-sm text-muted-foreground mb-6">For large-scale applications with custom needs.</p>
                        <a href="/contact" class="block w-full py-2.5 px-4 rounded border border-border text-center text-sm font-medium hover:bg-secondary transition-colors">Contact Sales</a>
                        <ul class="mt-8 space-y-3 text-sm text-muted-foreground font-mono-terminal">
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Everything in Agency</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Dedicated SLA</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> Custom terms</li>
                            <li class="flex items-center"><span class="mr-2 text-primary">âœ“</span> White-glove setup</li>
                        </ul>
                    </div>
                </div>
                <div class="mt-8 text-center text-sm text-muted-foreground">
                    Need high volume or custom requirements? <a href="/contact" class="text-primary hover:underline">Contact sales</a>.
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <section class="py-16 md:py-24 border-t border-border bg-gradient-to-b from-background to-secondary/20">
            <div class="container mx-auto px-4">
                <div class="text-center mb-16 reveal-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold mb-6">Backed by proven infrastructure</h2>
                    <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
                        Whether you're using our content delivery platform or decision engine API, 
                        Tracked services are built for massive scale with industry-leading reliability and performance
                    </p>
                </div>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-8 reveal-on-scroll">
                    <div class="text-center group p-6 rounded-xl hover:bg-secondary/50 transition-colors">
                        <h3 class="text-4xl md:text-5xl font-bold mb-2 text-primary group-hover:scale-110 transition-transform duration-300 inline-block">300+</h3>
                        <p class="text-muted-foreground font-medium">Global edge locations</p>
                    </div>
                    <div class="text-center group p-6 rounded-xl hover:bg-secondary/50 transition-colors">
                        <h3 class="text-4xl md:text-5xl font-bold mb-2 text-primary group-hover:scale-110 transition-transform duration-300 inline-block">99.99%</h3>
                        <p class="text-muted-foreground font-medium">Uptime SLA guarantee</p>
                    </div>
                    <div class="text-center group p-6 rounded-xl hover:bg-secondary/50 transition-colors">
                        <h3 id="edge-latency-stats" class="text-4xl md:text-5xl font-bold mb-2 text-primary group-hover:scale-110 transition-transform duration-300 inline-block">--ms</h3>
                        <p class="text-muted-foreground font-medium">Your response time</p>
                    </div>
                    <div class="text-center group p-6 rounded-xl hover:bg-secondary/50 transition-colors">
                        <h3 class="text-4xl md:text-5xl font-bold mb-2 text-primary group-hover:scale-110 transition-transform duration-300 inline-block">1B+</h3>
                        <p class="text-muted-foreground font-medium">Requests served daily</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="py-16 md:py-32 border-t border-border bg-muted/20 relative overflow-hidden">
             <div class="absolute inset-0 bg-grid opacity-[0.03] pointer-events-none"></div>
            <div class="container mx-auto px-4 relative z-10">
                <div class="text-center mb-20 reveal-on-scroll">
                    <h2 class="text-3xl md:text-4xl font-bold mb-6">Loved by performance marketers worldwide</h2>
                    <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
                        See what our users have to say about building with Tracked
                    </p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="terminal-card p-8 bg-card reveal-on-scroll hover:border-primary/40 group">
                        <div class="mb-6 text-primary">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21L14.017 18C14.017 16.8954 13.1216 16 12.0171 16H9.01712V13H14.0171V6.90185C14.0171 5.79729 13.1216 4.90185 12.0171 4.90185H9.01712C5.66636 4.90185 3.01712 7.64326 3.01712 11V18C3.01712 19.6569 4.36027 21 6.01712 21H14.017ZM24.0171 21L24.0171 18C24.0171 16.8954 23.1217 16 22.0171 16H19.0171V13H24.0171V6.90185C24.0171 5.79729 23.1217 4.90185 22.0171 4.90185H19.0171C15.6664 4.90185 13.0171 7.64326 13.0171 11V18C13.0171 19.6569 14.3603 21 16.0171 21H24.0171Z"/></svg>
                        </div>
                        <p class="text-base text-muted-foreground mb-6 font-mono-terminal leading-relaxed">"Tracked has revolutionized our campaign delivery. We've seen a 40% increase in conversions since switching. The targeting capabilities are incredible."</p>
                        <div class="flex items-center gap-4 pt-6 border-t border-border">
                            <div class="w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold text-lg">SC</div>
                            <div>
                                <div class="font-bold text-base">Sarah Chen</div>
                                <div class="text-xs text-muted-foreground uppercase tracking-wider">Performance Marketing Director</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="terminal-card p-8 bg-card reveal-on-scroll hover:border-primary/40 group" style="transition-delay: 100ms;">
                         <div class="mb-6 text-primary">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21L14.017 18C14.017 16.8954 13.1216 16 12.0171 16H9.01712V13H14.0171V6.90185C14.0171 5.79729 13.1216 4.90185 12.0171 4.90185H9.01712C5.66636 4.90185 3.01712 7.64326 3.01712 11V18C3.01712 19.6569 4.36027 21 6.01712 21H14.017ZM24.0171 21L24.0171 18C24.0171 16.8954 23.1217 16 22.0171 16H19.0171V13H24.0171V6.90185C24.0171 5.79729 23.1217 4.90185 22.0171 4.90185H19.0171C15.6664 4.90185 13.0171 7.64326 13.0171 11V18C13.0171 19.6569 14.3603 21 16.0171 21H24.0171Z"/></svg>
                        </div>
                        <p class="text-base text-muted-foreground mb-6 font-mono-terminal leading-relaxed">"The React SDK integration was seamless. We added feature flags to our entire app in under an hour. The developer experience is fantastic."</p>
                        <div class="flex items-center gap-4 pt-6 border-t border-border">
                            <div class="w-12 h-12 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-lg">AK</div>
                            <div>
                                <div class="font-bold text-base">Alex Kumar</div>
                                <div class="text-xs text-muted-foreground uppercase tracking-wider">Frontend Engineer</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="terminal-card p-8 bg-card reveal-on-scroll hover:border-primary/40 group" style="transition-delay: 200ms;">
                         <div class="mb-6 text-primary">
                            <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21L14.017 18C14.017 16.8954 13.1216 16 12.0171 16H9.01712V13H14.0171V6.90185C14.0171 5.79729 13.1216 4.90185 12.0171 4.90185H9.01712C5.66636 4.90185 3.01712 7.64326 3.01712 11V18C3.01712 19.6569 4.36027 21 6.01712 21H14.017ZM24.0171 21L24.0171 18C24.0171 16.8954 23.1217 16 22.0171 16H19.0171V13H24.0171V6.90185C24.0171 5.79729 23.1217 4.90185 22.0171 4.90185H19.0171C15.6664 4.90185 13.0171 7.64326 13.0171 11V18C13.0171 19.6569 14.3603 21 16.0171 21H24.0171Z"/></svg>
                        </div>
                        <p class="text-base text-muted-foreground mb-6 font-mono-terminal leading-relaxed">"The global edge network is a game-changer. Our pages load instantly worldwide, and our international conversion rates have improved dramatically."</p>
                        <div class="flex items-center gap-4 pt-6 border-t border-border">
                             <div class="w-12 h-12 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold text-lg">MR</div>
                            <div>
                                <div class="font-bold text-base">Marcus Rodriguez</div>
                                <div class="text-xs text-muted-foreground uppercase tracking-wider">Growth Marketing Lead</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-muted/30 border-t border-border pt-12 md:pt-16 pb-8">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-2 md:grid-cols-5 gap-8 mb-12">
                <div class="col-span-2 md:col-span-1">
                    <div class="flex items-center gap-2 mb-4">
                        <div class="w-8 h-8 bg-primary text-primary-foreground rounded flex items-center justify-center font-bold font-mono-terminal">T</div>
                        <span class="font-bold text-lg tracking-tight">Tracked</span>
                    </div>
                    <p class="text-sm text-muted-foreground mb-4">The unified platform for tracking, delivery, and decisions.</p>
                    <div class="text-[10px] text-muted-foreground font-mono-terminal uppercase tracking-widest">
                        Made with <span class="text-red-500">â™¥</span> in New York
                    </div>
                </div>
                <div>
                    <h4 class="font-bold text-sm mb-4 uppercase tracking-wider font-mono-terminal text-primary">Platform</h4>
                    <ul class="space-y-2 text-sm text-muted-foreground">
                        <li><a href="/delivery" class="hover:text-foreground transition-colors">Content Delivery</a></li>
                        <li><a href="/targeting" class="hover:text-foreground transition-colors">Smart Targeting</a></li>
                        <li><a href="/analytics" class="hover:text-foreground transition-colors">Analytics</a></li>
                        <li><a href="/protection" class="hover:text-foreground transition-colors">Bot Protection</a></li>
                        <li><a href="/api" class="hover:text-foreground transition-colors">API Access</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-sm mb-4 uppercase tracking-wider font-mono-terminal text-primary">Solutions</h4>
                    <ul class="space-y-2 text-sm text-muted-foreground">
                        <li><a href="/agencies" class="hover:text-foreground transition-colors">For Agencies</a></li>
                        <li><a href="/ecommerce" class="hover:text-foreground transition-colors">E-commerce</a></li>
                        <li><a href="/lead-gen" class="hover:text-foreground transition-colors">Lead Generation</a></li>
                        <li><a href="/enterprise" class="hover:text-foreground transition-colors">Enterprise</a></li>
                        <li><a href="/pricing" class="hover:text-foreground transition-colors">Pricing</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-sm mb-4 uppercase tracking-wider font-mono-terminal text-primary">Resources</h4>
                    <ul class="space-y-2 text-sm text-muted-foreground">
                        <li><a href="/docs" class="hover:text-foreground transition-colors">Documentation</a></li>
                        <li><a href="/blog" class="hover:text-foreground transition-colors">Blog</a></li>
                        <li><a href="/case-studies" class="hover:text-foreground transition-colors">Case Studies</a></li>
                        <li><a href="/support" class="hover:text-foreground transition-colors">Support</a></li>
                        <li><a href="/status" class="hover:text-foreground transition-colors">Status</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-sm mb-4 uppercase tracking-wider font-mono-terminal text-primary">Company</h4>
                    <ul class="space-y-2 text-sm text-muted-foreground">
                        <li><a href="/about" class="hover:text-foreground transition-colors">About</a></li>
                        <li><a href="/careers" class="hover:text-foreground transition-colors">Careers</a></li>
                        <li><a href="/contact" class="hover:text-foreground transition-colors">Contact</a></li>
                        <li><a href="/privacy" class="hover:text-foreground transition-colors">Privacy</a></li>
                        <li><a href="/terms" class="hover:text-foreground transition-colors">Terms</a></li>
                    </ul>
                </div>
            </div>
            <div class="pt-8 border-t border-border flex flex-col md:flex-row justify-between items-center gap-4">
                <p class="text-[10px] text-muted-foreground font-mono-terminal uppercase tracking-widest">Â© 2025 Tracked LLC. All rights reserved.</p>
                <div class="flex items-center gap-6">
                    <a href="https://twitter.com/tracked" class="text-muted-foreground hover:text-foreground transition-colors">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                    </a>
                    <a href="https://discord.gg/tracked" class="text-muted-foreground hover:text-foreground transition-colors">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03z"/></svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Dark Mode Logic
        const themeToggle = document.getElementById('theme-toggle');
        const prismDark = document.getElementById('prism-theme-dark');
        const prismLight = document.getElementById('prism-theme-light');
        
        function updatePrismTheme(isDark) {
            if (prismDark && prismLight) {
                prismDark.media = isDark ? 'all' : 'not all';
                prismLight.media = isDark ? 'not all' : 'all';
            }
        }
        
        // Check local storage or system preference
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
            updatePrismTheme(true);
        } else {
            document.documentElement.classList.remove('dark');
            updatePrismTheme(false);
        }

        themeToggle.addEventListener('click', () => {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.theme = 'light';
                updatePrismTheme(false);
            } else {
                document.documentElement.classList.add('dark');
                localStorage.theme = 'dark';
                updatePrismTheme(true);
            }
        });

        // Performance Measurement - Most accurate methods for latency/speed metrics
        (function measurePerformance() {
            const heroEl = document.getElementById('edge-latency-hero');
            const statsEl = document.getElementById('edge-latency-stats');
            const responseTimeEl = document.getElementById('response-time-display');
            
            function updateLatencyDisplay(ms) {
                const formatted = ms < 1 ? '<1ms' : Math.round(ms) + 'ms';
                if (heroEl) heroEl.textContent = formatted;
                if (statsEl) statsEl.textContent = formatted;
                if (responseTimeEl) responseTimeEl.textContent = '< ' + formatted;
            }
            
            // Method 1: Navigation Timing API - Most accurate for initial page load
            // This gives us the ACTUAL server processing + network time
            if (window.performance && performance.getEntriesByType) {
                const navEntries = performance.getEntriesByType('navigation');
                if (navEntries.length > 0) {
                    const nav = navEntries[0];
                    
                    // MOST ACCURATE: Server processing time only (what you control)
                    // responseStart - requestStart = time from request sent to first byte received
                    const ttfb = nav.responseStart - nav.requestStart;
                    
                    // Alternative metrics you could use:
                    // 1. DNS + Connection + TTFB:
                    // const totalLatency = nav.responseStart - nav.fetchStart;
                    
                    // 2. Full response download:
                    // const fullResponse = nav.responseEnd - nav.requestStart;
                    
                    // 3. Complete page load:
                    // const pageLoad = nav.loadEventEnd - nav.fetchStart;
                    
                    if (ttfb > 0 && ttfb < 5000) {
                        updateLatencyDisplay(ttfb);
                    }
                }
            }
            
            // Method 2: Resource Timing API with lightweight ping
            // Most accurate for ongoing real-time measurement
            async function pingEdge() {
                try {
                    const pingUrl = '/?_ping=' + Date.now();
                    
                    // Mark the start of our measurement
                    const markName = 'ping-start-' + Date.now();
                    performance.mark(markName);
                    
                    // HEAD request is fastest (no body transfer)
                    const res = await fetch(pingUrl, {
                        method: 'HEAD',
                        cache: 'no-store',
                        // Disable keepalive to measure true connection time
                        keepalive: false
                    });
                    
                    if (!res.ok) return;
                    
                    // Wait for Resource Timing entry to be available
                    await new Promise(resolve => setTimeout(resolve, 10));
                    
                    // Get the most accurate timing from Resource Timing API
                    const entries = performance.getEntriesByName(pingUrl, 'resource');
                    if (entries.length > 0) {
                        const entry = entries[entries.length - 1]; // Get most recent
                        
                        // MOST ACCURATE OPTIONS:
                        
                        // Option 1: Server response time (excludes DNS, connection)
                        // Best for showing your server performance
                        const serverTime = entry.responseStart - entry.requestStart;
                        
                        // Option 2: Total request time (includes everything)
                        // const totalTime = entry.responseEnd - entry.startTime;
                        
                        // Option 3: TTFB from start (includes connection setup)
                        // const ttfb = entry.responseStart - entry.fetchStart;
                        
                        // Clean up old entries to avoid memory issues
                        performance.clearResourceTimings();
                        
                        if (serverTime > 0 && serverTime < 5000) {
                            updateLatencyDisplay(serverTime);
                        }
                    } else {
                        // Fallback to manual timing if Resource Timing not available
                        const manualTime = performance.now() - performance.getEntriesByName(markName)[0].startTime;
                        performance.clearMarks(markName);
                        
                        if (manualTime > 0 && manualTime < 5000) {
                            updateLatencyDisplay(manualTime);
                        }
                    }
                } catch (e) {
                    // Silently fail - keep showing previous value
                    console.debug('Ping measurement failed:', e);
                }
            }
            
            // Initial ping after page settles
            setTimeout(pingEdge, 500);
            
            // Refresh every 30 seconds for real-time monitoring
            setInterval(pingEdge, 30000);
        })();

        // Mobile Menu Logic
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileLinks = document.querySelectorAll('.mobile-link');
        let isMenuOpen = false;

        function toggleMenu() {
            isMenuOpen = !isMenuOpen;
            if (isMenuOpen) {
                mobileMenu.classList.remove('translate-x-full');
            } else {
                mobileMenu.classList.add('translate-x-full');
            }
        }

        mobileMenuBtn.addEventListener('click', toggleMenu);

        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                isMenuOpen = false;
                mobileMenu.classList.add('translate-x-full');
            });
        });

        // Scroll Animation Logic
        const revealElements = document.querySelectorAll('.reveal-on-scroll');

        const revealCallback = (entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        };

        const revealObserver = new IntersectionObserver(revealCallback, {
            threshold: 0.15,
            rootMargin: '0px 0px -50px 0px'
        });

        revealElements.forEach(element => {
            revealObserver.observe(element);
        });

        // Macro Playground Logic
        const macroInput = document.getElementById('macro-input');
        const macroPreview = document.getElementById('macro-preview');
        const visitorContext = document.getElementById('visitor-context');

        if (macroInput && macroPreview) {
            // Detect real device/browser info from navigator
            function detectDeviceInfo() {
                const ua = navigator.userAgent;
                let device = 'Desktop';
                let os = 'Unknown';
                let browser = 'Unknown';
                
                // Detect OS
                if (ua.includes('Mac OS X') || ua.includes('Macintosh')) {
                    os = 'macOS';
                    device = 'Macintosh';
                } else if (ua.includes('Windows')) {
                    os = 'Windows';
                } else if (ua.includes('Linux')) {
                    os = 'Linux';
                } else if (ua.includes('Android')) {
                    os = 'Android';
                    device = 'Mobile';
                } else if (ua.includes('iPhone') || ua.includes('iPad')) {
                    os = 'iOS';
                    device = ua.includes('iPad') ? 'iPad' : 'iPhone';
                }
                
                // Detect Browser
                if (ua.includes('Chrome') && !ua.includes('Edg')) {
                    browser = 'Chrome';
                } else if (ua.includes('Firefox')) {
                    browser = 'Firefox';
                } else if (ua.includes('Safari') && !ua.includes('Chrome')) {
                    browser = 'Safari';
                } else if (ua.includes('Edg')) {
                    browser = 'Edge';
                }
                
                return { device, os, browser };
            }

            const deviceInfo = detectDeviceInfo();
            
            // Get timezone from browser (we can detect this without permission)
            const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone || 'UTC';
            const locale = Intl.DateTimeFormat().resolvedOptions().locale || 'en-US';
            
            // ============================================
            // CLIENT-SIDE DEVICE DETECTION (Enhanced)
            // ============================================
            
            // Get WebGL GPU info
            function getGPUInfo() {
                try {
                    const canvas = document.createElement('canvas');
                    const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                    if (!gl) return 'WebGL unavailable';
                    
                    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                    if (!debugInfo) return 'GPU info blocked';
                    
                    const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
                    return renderer || 'Unknown GPU';
                } catch (e) {
                    return 'Detection failed';
                }
            }
            
            // Guess iPhone model from screen + GPU
            function guessDeviceModel(screenWidth, screenHeight, dpr, gpu) {
                const key = `${screenWidth}x${screenHeight}@${dpr}`;
                
                // iPhone model database (physical resolution / DPR = logical)
                const iPhoneModels = {
                    '430x932@3': 'iPhone 15 Pro Max / 14 Pro Max',
                    '393x852@3': 'iPhone 15 Pro / 14 Pro / 15 / 14',
                    '390x844@3': 'iPhone 13 / 13 Pro / 12 / 12 Pro',
                    '428x926@3': 'iPhone 13 Pro Max / 12 Pro Max',
                    '375x812@3': 'iPhone X / XS / 11 Pro',
                    '414x896@3': 'iPhone XS Max / 11 Pro Max',
                    '414x896@2': 'iPhone XR / 11',
                    '375x667@2': 'iPhone 6/7/8 / SE 2/3',
                    '414x736@3': 'iPhone 6/7/8 Plus',
                    '320x568@2': 'iPhone SE 1st Gen / 5s',
                };
                
                // Refine with GPU if available
                if (gpu.includes('Apple')) {
                    const gpuMatch = gpu.match(/Apple A(\d+)/i) || gpu.match(/Apple GPU/i);
                    if (gpuMatch) {
                        const chipNum = gpuMatch[1] ? parseInt(gpuMatch[1]) : null;
                        if (chipNum) {
                            // A17 = iPhone 15 Pro, A16 = iPhone 14 Pro, A15 = iPhone 13/14, etc.
                            const chipHint = chipNum >= 17 ? ' (A17 chip)' : chipNum >= 16 ? ' (A16 chip)' : chipNum >= 15 ? ' (A15 chip)' : '';
                            const model = iPhoneModels[key];
                            if (model) return model + chipHint;
                        }
                    }
                }
                
                // Android detection via User-Agent (often includes model)
                if (navigator.userAgent.includes('Android')) {
                    const match = navigator.userAgent.match(/;\s*([^;]+)\s+Build\//);
                    if (match) return match[1].trim();
                    return 'Android Device';
                }
                
                // Check for iPad
                if (navigator.userAgent.includes('iPad') || (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1)) {
                    return 'iPad';
                }
                
                // Fallback to iPhone lookup
                if (iPhoneModels[key]) return iPhoneModels[key];
                
                // Desktop detection
                if (dpr === 1 && screenWidth >= 1200) return 'Desktop Monitor';
                if (dpr === 2 && screenWidth >= 1200) return 'Retina Display';
                
                return 'Unknown Device';
            }
            
            // Populate client-side detection elements
            function populateClientSideDetection() {
                const screenEl = document.getElementById('client-screen');
                const gpuEl = document.getElementById('client-gpu');
                const timezoneEl = document.getElementById('client-timezone');
                const modelEl = document.getElementById('client-model');
                
                if (!screenEl) return; // Elements not on page
                
                const w = window.screen.width;
                const h = window.screen.height;
                const dpr = window.devicePixelRatio || 1;
                const gpu = getGPUInfo();
                const tz = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const model = guessDeviceModel(w, h, dpr, gpu);
                
                screenEl.textContent = `${w}Ã—${h} @${dpr}x`;
                gpuEl.textContent = gpu.length > 30 ? gpu.substring(0, 28) + '...' : gpu;
                gpuEl.title = gpu; // Full GPU name on hover
                timezoneEl.textContent = tz;
                modelEl.textContent = model;
            }
            
            // Run detection immediately
            populateClientSideDetection();
            
            // ============================================
            
            // Extract actual visitor data from the banner (already server-replaced)
            function extractVisitorData() {
                const stickyBanner = document.getElementById('sticky-personalization');
                let actualCity = 'New York'; // fallback
                let actualCountry = 'United States'; // fallback
                
                if (stickyBanner) {
                    const bannerText = stickyBanner.textContent || '';
                    // Banner format: "Live Session: Node: EWR New Rochelle, US DESKTOP â€¢ ELECTRON"
                    // Cloudflare returns cities in Title Case (e.g., "New Rochelle")
                    // Colo codes are 3 ALL-CAPS letters (EWR, LAX) so we skip those
                    // Match Title Case words: capital letter followed by lowercase, then comma and 2-letter country
                    const cityCountryMatch = bannerText.match(/([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*),\s*([A-Z]{2})\b/);
                    if (cityCountryMatch) {
                        // Already in Title Case from Cloudflare
                        actualCity = cityCountryMatch[1].trim();
                        // Convert country code to full name
                        const countryCode = cityCountryMatch[2];
                        const countryMap = {
                            'US': 'United States',
                            'CA': 'Canada',
                            'GB': 'United Kingdom',
                            'AU': 'Australia',
                            'DE': 'Germany',
                            'FR': 'France',
                            'IT': 'Italy',
                            'ES': 'Spain',
                            'NL': 'Netherlands',
                            'BE': 'Belgium',
                            'CH': 'Switzerland',
                            'AT': 'Austria',
                            'SE': 'Sweden',
                            'NO': 'Norway',
                            'DK': 'Denmark',
                            'FI': 'Finland',
                            'PL': 'Poland',
                            'CZ': 'Czech Republic',
                            'IE': 'Ireland',
                            'PT': 'Portugal',
                            'GR': 'Greece',
                            'JP': 'Japan',
                            'CN': 'China',
                            'KR': 'South Korea',
                            'IN': 'India',
                            'BR': 'Brazil',
                            'MX': 'Mexico',
                            'AR': 'Argentina',
                            'CL': 'Chile',
                            'CO': 'Colombia',
                            'PE': 'Peru',
                            'ZA': 'South Africa',
                            'NZ': 'New Zealand',
                            'SG': 'Singapore',
                            'MY': 'Malaysia',
                            'TH': 'Thailand',
                            'PH': 'Philippines',
                            'ID': 'Indonesia',
                            'VN': 'Vietnam'
                        };
                        actualCountry = countryMap[countryCode] || countryCode;
                    }
                }
                
                return { city: actualCity, country: actualCountry };
            }
            
            const visitorData = extractVisitorData();
            
            // Demo data matching real macro names from rules.ts populateMacros function
            // Note: Using string concatenation to prevent server-side macro replacement
            // The server replaces {{macro}} in HTML/CSS files, so we must construct these strings dynamically
            const M = (name) => '{' + '{' + name + '}' + '}'; // Builds macro syntax without triggering server replacement
            
            // Set textarea content via JS to avoid server-side macro replacement
            if (macroInput) {
                macroInput.value = `<h1>Hey there, ${M('user.CITY')}!</h1>

<p>
  Looks like you're browsing from 
  ${M('user.COUNTRY')} on ${M('user.DEVICE')}.
</p>

<p>
  Your browser is ${M('user.BROWSER')} 
  running on ${M('user.OS')}.
</p>

<a href="/checkout?cid=${M('click.id')}" class="inline-flex items-center justify-center px-6 py-3 bg-primary text-primary-foreground rounded-lg font-semibold text-sm shadow-md hover:bg-primary/90 hover:shadow-lg transition-all">
  Get Started
</a>`;
            }
            
            const demoData = {
                // User Geo (using actual visitor data from banner)
                [M('user.CITY')]: `<span class="bg-pastel-warning/80 dark:bg-pastel-warning/20 px-1.5 py-0.5 rounded text-amber-900 dark:text-amber-200 font-bold border border-amber-500/20">${visitorData.city}</span>`,
                [M('user.COUNTRY')]: `<span class="bg-pastel-info/80 dark:bg-pastel-info/20 px-1.5 py-0.5 rounded text-blue-900 dark:text-blue-200 font-bold border border-blue-500/20">${visitorData.country}</span>`,
                [M('user.COUNTRY_CODE')]: 'US',
                [M('user.CONTINENT')]: 'NA',
                [M('user.REGION_NAME')]: visitorData.city,
                [M('user.REGION_CODE')]: 'NY',
                [M('user.POSTAL_CODE')]: '10001',
                [M('user.TIMEZONE')]: timezone,
                
                // User Device (using detected values from visitor's browser)
                [M('user.DEVICE')]: `<span class="bg-pastel-violet/80 dark:bg-pastel-violet/20 px-1.5 py-0.5 rounded text-violet-900 dark:text-violet-200 font-bold border border-violet-500/20">${deviceInfo.device}</span>`,
                [M('user.BRAND')]: deviceInfo.device === 'iPhone' || deviceInfo.device === 'Macintosh' ? 'Apple' : 'Generic',
                [M('user.MODEL')]: deviceInfo.device === 'iPhone' ? 'iPhone 15 Pro' : 'Generic Desktop',
                [M('user.ARCH')]: 'arm64',
                [M('user.BROWSER')]: `<span class="bg-pastel-teal/80 dark:bg-pastel-teal/20 px-1.5 py-0.5 rounded text-teal-900 dark:text-teal-200 font-bold border border-teal-500/20">${deviceInfo.browser}</span>`,
                [M('user.BROWSER_VERSION')]: '120.0.6099.129',
                [M('user.OS')]: `<span class="bg-pastel-pink/80 dark:bg-pastel-pink/20 px-1.5 py-0.5 rounded text-pink-900 dark:text-pink-200 font-bold border border-pink-500/20">${deviceInfo.os}</span>`,
                [M('user.OS_VERSION')]: '14.2.1',
                
                // User Network
                [M('user.IP')]: `<span class="bg-pastel-cyan/80 dark:bg-pastel-cyan/20 px-1.5 py-0.5 rounded text-cyan-900 dark:text-cyan-200 font-bold border border-cyan-500/20">192.168.1.1</span>`,
                [M('user.ORGANIZATION')]: 'Verizon Fios',
                [M('user.REFERRER')]: 'https://google.com',
                [M('user.COLO')]: 'EWR',
                [M('user.ASN')]: '13335',
                
                // Bot Detection
                [M('user.IS_VERIFIED_BOT')]: 'false',
                [M('user.BOT_SCORE')]: '99',
                [M('user.THREAT_SCORE')]: '0',

                // Custom variables defined in rules
                [M('headline')]: `<span class="text-primary font-bold">Summer Flash Sale!</span>`,
                [M('hero_image')]: `https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800&auto=format&fit=crop&q=60`,
                [M('discount_percent')]: `<span class="text-red-500 font-bold">25</span>`,
                [M('cta_text')]: `Claim My Discount`,
                [M('cta_url')]: `/offer-page`,
                [M('button_class')]: `bg-primary text-white px-6 py-2 rounded-lg`,
                
                // Campaign & Tracking
                [M('click.id')]: 'clk_8f7a9d2b',
                [M('campaign.id')]: 'camp_abc123',
                [M('campaign.name')]: 'Summer Sale',
                [M('session.id')]: 'sess_xyz789',
                
                // Request
                [M('request.DOMAIN')]: 'example.com',
                [M('request.PATH')]: '/offer'
            };

            // Update visitor context display (make it look like a browser address bar)
            if (visitorContext) {
                const previewUrl = `tracked.app/lander?fbclid=abc123def456`;
                visitorContext.textContent = previewUrl;
                visitorContext.title = previewUrl;
            }

            // Define insertMacro globally so onclick works (must be before buttons)
            window.insertMacro = function(macro) {
                const start = macroInput.selectionStart;
                const end = macroInput.selectionEnd;
                const text = macroInput.value;
                const before = text.substring(0, start);
                const after = text.substring(end, text.length);
                
                macroInput.value = before + macro + after;
                macroInput.selectionStart = macroInput.selectionEnd = start + macro.length;
                macroInput.focus();
                updatePreview();
            };
            
            // Generate macro buttons dynamically to avoid server-side replacement
            const macroButtonsContainer = document.getElementById('macro-buttons');
            if (macroButtonsContainer) {
                const macros = ['user.CITY', 'user.COUNTRY', 'user.DEVICE', 'user.BROWSER', 'user.OS', 'user.IP', 'click.id'];
                macros.forEach(name => {
                    const btn = document.createElement('button');
                    btn.className = 'px-1.5 py-0.5 rounded bg-[#333] text-gray-300 text-[10px] font-mono-terminal border border-[#444] hover:bg-[#444] transition-colors';
                    btn.textContent = M(name);
                    btn.onclick = () => window.insertMacro(M(name));
                    macroButtonsContainer.appendChild(btn);
                });
                
                // Add Clear button
                const clearBtn = document.createElement('button');
                clearBtn.onclick = () => window.clearMacroInput();
                clearBtn.className = 'inline-flex items-center gap-1.5 px-3 py-1.5 rounded-md border border-zinc-300 dark:border-zinc-600 bg-zinc-100 dark:bg-zinc-700 hover:bg-red-50 dark:hover:bg-red-950/40 hover:border-red-300 dark:hover:border-red-700 text-xs font-semibold text-zinc-600 dark:text-zinc-300 hover:text-red-600 dark:hover:text-red-400 transition-all shadow-sm hover:shadow';
                clearBtn.innerHTML = `
                    <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                    Clear
                `;
                macroButtonsContainer.appendChild(clearBtn);
            }

            const highlightContent = document.getElementById('highlight-content');

            function updatePreview() {
                let text = macroInput.value;
                
                // Update highlight
                // Escape HTML for Prism display
                const escaped = text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
                highlightContent.innerHTML = escaped;
                if (window.Prism) {
                    Prism.highlightElement(highlightContent);
                }

                let content = text;
                
                // First, protect escaped macros {{macro}} by replacing with placeholder
                const escapedMacros = new Map();
                let escapedIndex = 0;
                content = content.replace(/\{\{!([^}]+)\}\}/g, (match, macroName) => {
                    const placeholder = `__ESCAPED_MACRO_${escapedIndex}__`;
                    escapedMacros.set(placeholder, `{{${macroName}}}`);
                    escapedIndex++;
                    return placeholder;
                });
                
                // Then replace {{macro}} with demo values (matching server-side behavior)
                Object.keys(demoData).forEach(macro => {
                    const regex = new RegExp(macro.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g');
                    content = content.replace(regex, demoData[macro]);
                });
                
                // Finally, restore escaped macros as literal text
                escapedMacros.forEach((literal, placeholder) => {
                    content = content.replace(placeholder, literal);
                });

                // Render HTML with replaced macros
                macroPreview.innerHTML = content;
            }

            // Sync scrolling
            macroInput.addEventListener('scroll', () => {
                const highlight = document.getElementById('editor-highlight');
                highlight.scrollTop = macroInput.scrollTop;
                highlight.scrollLeft = macroInput.scrollLeft;
            });

            window.clearMacroInput = function() {
                macroInput.value = '';
                updatePreview();
                macroInput.focus();
            };

            macroInput.addEventListener('input', updatePreview);
            updatePreview(); // Initial render

            // Sticky Personalization Banner Logic
            const stickyBanner = document.getElementById('sticky-personalization');
            const closeStickyBtn = document.getElementById('close-sticky');
            let bannerDismissed = false;

            window.addEventListener('scroll', () => {
                if (bannerDismissed || !stickyBanner) return;
                
                const showAfter = 700; // Pixels to scroll before showing
                if (window.scrollY > showAfter) {
                    stickyBanner.classList.add('visible');
                } else {
                    stickyBanner.classList.remove('visible');
                }
            });

            if (closeStickyBtn) {
                closeStickyBtn.addEventListener('click', () => {
                    stickyBanner.classList.remove('visible');
                    bannerDismissed = true;
                });
            }

            // Variable Demo Scenarios - Full landing page templates
            const scenarios = {
                default: {
                    label: "Default",
                    condition: "No targeting rules matched",
                    badgeColor: "bg-zinc-600",
                    config: {
                        path: "/lander",
                        action: "folder",
                        folder: "campaign-assets/",
                        variables: {
                            headline: "Unlock Premium Access",
                            subheadline: "Get unlimited articles, exclusive features, and ad-free reading.",
                            cta_text: "Start Free Trial",
                            price: "$9.99/mo"
                        }
                    },
                    template: (vars) => `
                        <div class="flex-1 flex flex-col text-left">
                            <div class="flex-1 space-y-3">
                                <div class="flex items-center gap-1.5">
                                    <svg class="w-4 h-4 text-primary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                    </svg>
                                    <span class="text-[10px] font-bold text-primary uppercase tracking-widest">Premium</span>
                                </div>
                                <h1 class="text-xl font-bold text-foreground leading-tight">${vars.headline}</h1>
                                <p class="text-sm text-muted-foreground">${vars.subheadline}</p>
                                <div class="h-24 rounded-xl bg-gradient-to-br from-zinc-100 to-zinc-200 dark:from-zinc-800 dark:to-zinc-900 flex items-center justify-center border border-border">
                                    <div class="text-center">
                                        <div class="text-2xl font-black text-foreground">${vars.price}</div>
                                        <div class="text-xs text-muted-foreground">Cancel anytime</div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 pt-3 border-t border-border">
                                <button class="w-full py-3 bg-primary text-primary-foreground rounded-xl font-bold text-sm shadow-lg">${vars.cta_text}</button>
                                <p class="text-center text-[10px] text-muted-foreground mt-2">7-day free trial included</p>
                            </div>
                        </div>
                    `
                },
                ios: {
                    label: "iOS Users",
                    condition: "OS = iOS",
                    badgeColor: "bg-blue-600",
                    config: {
                        path: "/lander",
                        action: "folder",
                        folder: "campaign-assets/",
                        rules: [{ if: { os: "iOS" } }],
                        variables: {
                            headline: "Go Pro on iOS",
                            subheadline: "Unlock all features with a single in-app purchase.",
                            cta_text: "Upgrade in App Store",
                            price: "$4.99"
                        }
                    },
                    template: (vars) => `
                        <div class="flex-1 flex flex-col text-left">
                            <div class="flex-1 space-y-3">
                                <div class="flex items-center gap-1.5">
                                    <svg class="w-4 h-4 text-blue-500" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.1 2.48-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91 1.34.03 2.19.49 2.84 1.13-2.31 1.98-1.93 5.43.34 6.34-.34 1.25-1.01 2.5-2.39 3.19zM15.47 2.1c.34 1.62-.84 3.24-2.28 3.39-.31-1.8 1.18-3.41 2.28-3.39z"/>
                                    </svg>
                                    <span class="text-[10px] font-bold text-blue-500 uppercase tracking-widest">iOS Exclusive</span>
                                </div>
                                <h1 class="text-xl font-bold text-foreground leading-tight">${vars.headline}</h1>
                                <p class="text-sm text-muted-foreground">${vars.subheadline}</p>
                                <div class="h-24 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/20">
                                    <div class="text-center">
                                        <div class="text-2xl font-black text-white">${vars.price}</div>
                                        <div class="text-xs text-blue-100">One-time purchase</div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 pt-3 border-t border-blue-500/20">
                                <button class="w-full py-3 bg-blue-600 text-white rounded-xl font-bold text-sm shadow-lg flex items-center justify-center gap-2">
                                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.1 2.48-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91 1.34.03 2.19.49 2.84 1.13-2.31 1.98-1.93 5.43.34 6.34-.34 1.25-1.01 2.5-2.39 3.19zM15.47 2.1c.34 1.62-.84 3.24-2.28 3.39-.31-1.8 1.18-3.41 2.28-3.39z"/>
                                    </svg>
                                    ${vars.cta_text}
                                </button>
                                <p class="text-center text-[10px] text-blue-500 mt-2">Restore purchases available</p>
                            </div>
                        </div>
                    `
                },
                germany: {
                    label: "Germany",
                    condition: "Country = DE",
                    badgeColor: "bg-amber-600",
                    config: {
                        path: "/lander",
                        action: "folder",
                        folder: "campaign-assets/",
                        rules: [{ if: { country: "DE" } }],
                        variables: {
                            headline: "Willkommen in Deutschland",
                            subheadline: "Lokalisierte Inhalte und EUR-Preise fÃ¼r deutsche Kunden.",
                            cta_text: "Jetzt kaufen",
                            price: "â‚¬29",
                            hero_bg: "from-amber-500 to-orange-600"
                        }
                    },
                    template: (vars) => `
                        <div class="flex-1 flex flex-col text-left">
                            <div class="flex-1 space-y-3">
                                <div class="flex items-center gap-1.5">
                                    <svg class="w-4 h-4 text-amber-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                    <span class="text-[10px] font-bold text-amber-500 uppercase tracking-widest">Deutschland</span>
                                </div>
                                <h1 class="text-xl font-bold text-foreground leading-tight">${vars.headline}</h1>
                                <p class="text-sm text-muted-foreground">${vars.subheadline}</p>
                                <div class="h-24 rounded-xl bg-gradient-to-br ${vars.hero_bg} flex items-center justify-center shadow-lg shadow-amber-500/20">
                                    <div class="text-center">
                                        <div class="text-2xl font-black text-white">${vars.price}</div>
                                        <div class="text-xs text-amber-100">EUR Pricing</div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 pt-3 border-t border-amber-500/20">
                                <button class="w-full py-3 bg-amber-600 text-white rounded-xl font-bold text-sm shadow-lg flex items-center justify-center gap-2">
                                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                    ${vars.cta_text}
                                </button>
                                <p class="text-center text-[10px] text-amber-600 mt-2">Kostenloser Versand in DE</p>
                            </div>
                        </div>
                    `
                },
                night: {
                    label: "Night Owl",
                    condition: "Time = 10pm-5am AND Country = US",
                    badgeColor: "bg-indigo-600",
                    config: {
                        path: "/lander",
                        action: "folder",
                        folder: "campaign-assets/",
                        rules: [{ if: { time: "22:00-05:00", country: "US" } }],
                        variables: {
                            headline: "Night Owl Special",
                            subheadline: "40% off annual plan - expires at sunrise.",
                            cta_text: "Claim Midnight Deal",
                            price: "$59",
                            original_price: "$99"
                        }
                    },
                    template: (vars) => `
                        <div class="flex-1 flex flex-col text-left bg-zinc-950 -mx-4 -mt-12 -mb-5 px-4 pt-14 pb-6">
                            <div class="flex-1 space-y-3">
                                <div class="flex items-center gap-1.5">
                                    <svg class="w-4 h-4 text-indigo-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                                    </svg>
                                    <span class="text-[10px] font-bold text-indigo-400 uppercase tracking-widest">Limited Time</span>
                                    <span class="ml-auto px-2 py-0.5 bg-red-500/20 text-red-400 text-[9px] font-bold rounded-full animate-pulse">EXPIRES SOON</span>
                                </div>
                                <h1 class="text-xl font-bold text-white leading-tight">${vars.headline}</h1>
                                <p class="text-sm text-indigo-200/70">${vars.subheadline}</p>
                                <div class="h-24 rounded-xl bg-gradient-to-br from-indigo-900 to-violet-950 flex items-center justify-center relative overflow-hidden">
                                    <div class="text-center relative z-10">
                                        <div class="text-3xl font-black text-white">${vars.price}<span class="text-base font-normal text-indigo-300">/yr</span></div>
                                        <div class="text-sm text-indigo-400 line-through">${vars.original_price}/yr</div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 pt-3 border-t border-indigo-500/20">
                                <button class="w-full py-3 bg-indigo-600 text-white rounded-xl font-bold text-sm shadow-lg shadow-indigo-500/30">${vars.cta_text}</button>
                                <p class="text-center text-[10px] text-indigo-400 mt-2">Offer ends at sunrise</p>
                            </div>
                        </div>
                    `
                },
                returning: {
                    label: "Returning Visitor",
                    condition: "Session Count > 1",
                    badgeColor: "bg-amber-600",
                    config: {
                        path: "/lander",
                        action: "folder",
                        folder: "campaign-assets/",
                        rules: [{ if: { returning: true } }],
                        variables: {
                            headline: "Welcome Back!",
                            subheadline: "We saved your spot. Ready to continue?",
                            cta_text: "Resume Where I Left Off",
                            price: "20% off",
                            hero_bg: "from-amber-400 to-orange-500"
                        }
                    },
                    template: (vars) => `
                        <div class="flex-1 flex flex-col text-left">
                            <div class="flex-1 space-y-3">
                                <div class="flex items-center gap-1.5">
                                    <svg class="w-4 h-4 text-amber-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" /></svg>
                                    <span class="text-[10px] font-bold text-amber-500 uppercase tracking-widest">Welcome Back</span>
                                </div>
                                <h1 class="text-xl font-bold text-foreground leading-tight">${vars.headline}</h1>
                                <p class="text-sm text-muted-foreground">${vars.subheadline}</p>
                                <div class="h-24 rounded-xl bg-gradient-to-br ${vars.hero_bg} flex items-center justify-center shadow-lg shadow-amber-500/20">
                                    <div class="text-center">
                                        <div class="text-2xl font-black text-white">${vars.price}</div>
                                        <div class="text-xs text-amber-100">Loyalty Discount</div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 pt-3 border-t border-amber-500/20">
                                <button class="w-full py-3 bg-amber-500 text-white rounded-xl font-bold text-sm shadow-lg">${vars.cta_text}</button>
                                <p class="text-center text-[10px] text-amber-600 mt-2">Your progress is saved</p>
                            </div>
                        </div>
                    `
                }
            };

            const configDisplay = document.getElementById('rule-config-display');
            const conditionBadgeDesktop = document.getElementById('condition-badge-desktop');
            const conditionBadgePhone = document.getElementById('condition-badge-phone');
            
            // Frame Elements
            const phoneRender = document.getElementById('variable-preview-render');
            const desktopRender = document.getElementById('desktop-preview-render');
            const phoneFrame = document.getElementById('preview-phone-frame');
            const desktopFrame = document.getElementById('preview-desktop-frame');

            window.setVariablePreset = function(name) {
                const scenario = scenarios[name];
                if (!scenario) return;

                // Frame Logic
                let targetRender = phoneRender;
                let targetBadge = conditionBadgePhone;
                
                if (name === 'default') {
                    if (desktopFrame) desktopFrame.classList.remove('hidden');
                    if (phoneFrame) phoneFrame.classList.add('hidden');
                    targetRender = desktopRender;
                    targetBadge = conditionBadgeDesktop;
                } else {
                    if (desktopFrame) desktopFrame.classList.add('hidden');
                    if (phoneFrame) phoneFrame.classList.remove('hidden');
                    targetRender = phoneRender;
                    targetBadge = conditionBadgePhone;
                }

                // Update config display
                if (configDisplay) {
                    configDisplay.textContent = JSON.stringify(scenario.config, null, 2);
                }
                
                // Update active condition badge
                if (targetBadge) {
                    targetBadge.textContent = scenario.condition;
                    targetBadge.className = `absolute -bottom-4 left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full text-white text-xs font-bold shadow-lg whitespace-nowrap transition-all z-30 ${scenario.badgeColor}`;
                }
                
                // Update preview with fade effect
                if (targetRender) {
                    targetRender.style.opacity = '0';
                    setTimeout(() => {
                        targetRender.innerHTML = scenario.template(scenario.config.variables);
                        targetRender.style.opacity = '1';
                    }, 200);
                }

                // Update button styles
                document.querySelectorAll('.preset-btn').forEach(btn => {
                    const isActive = btn.getAttribute('data-scenario') === name;
                    if (isActive) {
                        btn.classList.add('border-primary', 'bg-primary/5', 'shadow-md', 'ring-1', 'ring-primary/20');
                        btn.classList.remove('border-border', 'bg-card/50');
                        btn.querySelector('div.rounded-full')?.classList.add('scale-125');
                    } else {
                        btn.classList.remove('border-primary', 'bg-primary/5', 'shadow-md', 'ring-1', 'ring-primary/20');
                        btn.classList.add('border-border', 'bg-card/50');
                        btn.querySelector('div.rounded-full')?.classList.remove('scale-125');
                    }
                });
            };

            window.clearVariablePreset = function() {
                // Hide both frames or show empty state
                if (phoneFrame) phoneFrame.classList.add('hidden');
                if (desktopFrame) desktopFrame.classList.add('hidden');
                
                // Clear all button active states
                document.querySelectorAll('.preset-btn').forEach(btn => {
                    btn.classList.remove('border-primary', 'bg-primary/5', 'shadow-md', 'ring-1', 'ring-primary/20');
                    btn.classList.add('border-border', 'bg-card/50');
                    btn.querySelector('div.rounded-full')?.classList.remove('scale-125');
                });
            };

            // Initial load
            setVariablePreset('default');
        }
    </script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-markup.min.js"></script>
    <script>
        // Custom Prism Rule for Macros: {{...}}
        if (Prism.languages.markup) {
            Prism.languages.insertBefore('markup', 'tag', {
                'macro': {
                    pattern: /\{\{.*?\}\}/,
                    alias: 'macro'
                }
            });
        }
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"version":"2024.11.0","token":"160e12d2515d48f184bbd404a3a901f4","r":1,"server_timing":{"name":{"cfCacheStatus":true,"cfEdge":true,"cfExtPri":true,"cfL4":true,"cfOrigin":true,"cfSpeedBrain":true},"location_startswith":null}}' crossorigin="anonymous"></script>
</body>
</html>

